2020-08-18 21:12:40.778  INFO 1460 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 1460 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-18 21:12:40.786  INFO 1460 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-18 21:12:41.848  INFO 1460 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-18 21:12:41.992  INFO 1460 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 132ms. Found 9 JPA repository interfaces.
2020-08-18 21:12:42.661  INFO 1460 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-18 21:12:42.671  INFO 1460 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-18 21:12:42.671  INFO 1460 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-18 21:12:42.832  INFO 1460 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-18 21:12:42.832  INFO 1460 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1974 ms
2020-08-18 21:12:42.962  INFO 1460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-18 21:12:43.571  INFO 1460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-18 21:12:45.135  INFO 1460 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 21:12:45.143  INFO 1460 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 21:12:45.146  INFO 1460 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-18 21:12:45.219  INFO 1460 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-18 21:12:47.814  INFO 1460 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-18 21:12:47.816  INFO 1460 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-18 21:12:47.817  INFO 1460 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-18 21:12:47.818  INFO 1460 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-18 21:12:48.076  INFO 1460 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-18 21:12:48.077  INFO 1460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-18 21:12:48.087  INFO 1460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-18 21:12:48.176  INFO 1460 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-18 21:12:48.186  INFO 1460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-18 21:12:48.186  WARN 1460 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-18 21:12:48.207  INFO 1460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-18 21:12:48.263  INFO 1460 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-18 21:12:48.331  INFO 1460 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-18 21:12:48.336  WARN 1460 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-18 21:12:48.580  INFO 1460 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-18 21:12:48.759  INFO 1460 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-18 21:12:48.976 DEBUG 1460 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@35af1558}
2020-08-18 21:12:49.080 DEBUG 1460 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-18 21:12:49.082 DEBUG 1460 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-18 21:12:49.083 DEBUG 1460 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-18 21:12:49.083 DEBUG 1460 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-18 21:12:49.090 DEBUG 1460 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 21:12:49.092 DEBUG 1460 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 21:12:49.095  INFO 1460 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e32037d, org.springframework.security.web.context.SecurityContextPersistenceFilter@30eb55c9, org.springframework.security.web.header.HeaderWriterFilter@3cc74fc4, org.springframework.security.web.authentication.logout.LogoutFilter@7509226c, ru.logisticplatform.security.jwt.JwtTokenFilter@5059d398, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@309e3f34, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5badeda0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b1420f9, org.springframework.security.web.session.SessionManagementFilter@608eb42e, org.springframework.security.web.access.ExceptionTranslationFilter@3134b261, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4fef5792]
2020-08-18 21:12:49.369  INFO 1460 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-18 21:12:49.371  INFO 1460 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-18 21:12:49.958  INFO 1460 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-18 21:12:49.967  INFO 1460 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 21:12:50.543  INFO 1460 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-18 21:12:50.554  INFO 1460 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 10.555 seconds (JVM running for 12.064)
2020-08-18 21:13:02.177  INFO 12440 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 12440 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-18 21:13:02.185  INFO 12440 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-18 21:13:03.427  INFO 12440 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-18 21:13:03.603  INFO 12440 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 162ms. Found 9 JPA repository interfaces.
2020-08-18 21:13:04.611  INFO 12440 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-18 21:13:04.625  INFO 12440 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-18 21:13:04.626  INFO 12440 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-18 21:13:04.826  INFO 12440 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-18 21:13:04.826  INFO 12440 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2555 ms
2020-08-18 21:13:05.047  INFO 12440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-18 21:13:05.782  INFO 12440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-18 21:13:07.814  INFO 12440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 21:13:07.823  INFO 12440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 21:13:07.827  INFO 12440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-18 21:13:07.951  INFO 12440 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-18 21:13:10.904  INFO 12440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-18 21:13:10.907  INFO 12440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-18 21:13:10.909  INFO 12440 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-18 21:13:10.910  INFO 12440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-18 21:13:11.141  INFO 12440 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-18 21:13:11.143  INFO 12440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-18 21:13:11.159  INFO 12440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-18 21:13:11.292  INFO 12440 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-18 21:13:11.304  INFO 12440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-18 21:13:11.304  WARN 12440 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-18 21:13:11.327  INFO 12440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-18 21:13:11.411  INFO 12440 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-18 21:13:11.526  WARN 12440 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-18 21:13:11.553  INFO 12440 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-18 21:13:11.846  INFO 12440 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-18 21:13:12.129  INFO 12440 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-18 21:13:12.450 DEBUG 12440 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@123426a9}
2020-08-18 21:13:12.634 DEBUG 12440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-18 21:13:12.640 DEBUG 12440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-18 21:13:12.642 DEBUG 12440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-18 21:13:12.642 DEBUG 12440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-18 21:13:12.656 DEBUG 12440 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 21:13:12.659 DEBUG 12440 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 21:13:12.666  INFO 12440 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5923210, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f24e33d, org.springframework.security.web.header.HeaderWriterFilter@24ce5d4c, org.springframework.security.web.authentication.logout.LogoutFilter@612531a3, ru.logisticplatform.security.jwt.JwtTokenFilter@70dd79f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7683d632, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7575f7e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ee19768, org.springframework.security.web.session.SessionManagementFilter@23f539df, org.springframework.security.web.access.ExceptionTranslationFilter@52a0bc48, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a358906]
2020-08-18 21:13:13.012  INFO 12440 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-18 21:13:13.019  INFO 12440 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-18 21:13:13.968  INFO 12440 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-18 21:13:13.985  INFO 12440 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 21:13:14.768  INFO 12440 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-18 21:13:14.785  INFO 12440 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 13.535 seconds (JVM running for 15.961)
2020-08-18 21:14:37.418  INFO 12440 --- [http-nio-8068-exec-6] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-18 21:14:37.419  INFO 12440 --- [http-nio-8068-exec-6] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-18 21:14:37.429  INFO 12440 --- [http-nio-8068-exec-6] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2020-08-18 21:14:37.446 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:14:37.448 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:14:37.451 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:14:37.452 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:14:37.453 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:14:37.453 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-18 21:14:37.453 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:14:37.453 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-18 21:14:37.453 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:14:37.453 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-18 21:14:37.453 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:14:37.453 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-18 21:14:37.454 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:14:37.454 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:14:37.454 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:14:37.454 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:14:37.456 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:14:37.458 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@8f7c01e4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-18 21:14:37.458 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:14:37.458 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:14:37.458 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:14:37.459 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-18 21:14:37.459 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-18 21:14:37.459 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@8f7c01e4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-18 21:14:37.466 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@776c1a76, returned: 1
2020-08-18 21:14:37.466 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 21:14:37.466 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 21:14:37.466 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-18 21:14:37.582 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-18 21:14:37.916  INFO 12440 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-18 21:14:37.918  INFO 12440 --- [http-nio-8068-exec-6] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-18 21:14:38.046  INFO 12440 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-18 21:14:38.125 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@70057f0a
2020-08-18 21:14:38.133 DEBUG 12440 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 21:14:38.133 DEBUG 12440 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:15:05.621 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:15:05.622 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:15:05.622 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:15:05.622 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:15:05.622 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:15:05.622 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/logout'
2020-08-18 21:15:05.623 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:15:05.623 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'POST /logout'
2020-08-18 21:15:05.623 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:15:05.623 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'PUT /logout'
2020-08-18 21:15:05.623 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:15:05.623 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'DELETE /logout'
2020-08-18 21:15:05.623 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:15:05.623 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:15:05.676  INFO 12440 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-18 21:15:05.676  INFO 12440 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-18 21:15:05.676 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:15:05.676 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:15:05.676 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:15:05.676 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c69fc58b: Principal: ru.logisticplatform.security.jwt.JwtUser@10c777c8; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 21:15:05.676 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:15:05.677 DEBUG 12440 --- [http-nio-8068-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2e5c245d
2020-08-18 21:15:05.677 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:15:05.677 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:15:05.677 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/sign/**'
2020-08-18 21:15:05.677 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/admins/**'
2020-08-18 21:15:05.677 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/customers/**'
2020-08-18 21:15:05.677 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/me; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 21:15:05.677 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c69fc58b: Principal: ru.logisticplatform.security.jwt.JwtUser@10c777c8; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 21:15:05.678 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@776c1a76, returned: 1
2020-08-18 21:15:05.678 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 21:15:05.678 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 21:15:05.678 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me reached end of additional filter chain; proceeding with original chain
2020-08-18 21:16:00.844 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@70057f0a
2020-08-18 21:16:00.845 DEBUG 12440 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 21:16:00.845 DEBUG 12440 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:16:20.967 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:16:20.968 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:16:20.968 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:16:20.968 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:16:20.968 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:16:20.968 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/logout'
2020-08-18 21:16:20.968 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:16:20.968 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'POST /logout'
2020-08-18 21:16:20.968 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:16:20.969 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'PUT /logout'
2020-08-18 21:16:20.969 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:16:20.969 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'DELETE /logout'
2020-08-18 21:16:20.969 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:16:20.969 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:16:20.975  INFO 12440 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-18 21:16:20.976  INFO 12440 --- [http-nio-8068-exec-1] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-18 21:16:20.976 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:16:20.976 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:16:20.976 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:16:20.976 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8f22ab7b: Principal: ru.logisticplatform.security.jwt.JwtUser@597a1938; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 21:16:20.976 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:16:20.976 DEBUG 12440 --- [http-nio-8068-exec-1] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2e5c245d
2020-08-18 21:16:20.976 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:16:20.976 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:16:20.976 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/sign/**'
2020-08-18 21:16:20.976 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/admins/**'
2020-08-18 21:16:20.977 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/customers/**'
2020-08-18 21:16:20.977 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/me; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 21:16:20.977 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8f22ab7b: Principal: ru.logisticplatform.security.jwt.JwtUser@597a1938; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 21:16:20.978 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@776c1a76, returned: 1
2020-08-18 21:16:20.978 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 21:16:20.978 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 21:16:20.978 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me reached end of additional filter chain; proceeding with original chain
2020-08-18 21:17:03.277  WARN 12440 --- [HikariPool-2 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=1m2s436ms986Âµs500ns).
2020-08-18 21:17:44.140 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@70057f0a
2020-08-18 21:17:44.142 DEBUG 12440 --- [http-nio-8068-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 21:17:44.142 DEBUG 12440 --- [http-nio-8068-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:18:43.304  INFO 12440 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 21:18:43.308  INFO 12440 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-18 21:18:43.308  INFO 12440 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-18 21:18:43.318  INFO 12440 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-18 21:19:22.424  INFO 1472 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 1472 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-18 21:19:22.431  INFO 1472 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-18 21:19:23.643  INFO 1472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-18 21:19:23.798  INFO 1472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 142ms. Found 9 JPA repository interfaces.
2020-08-18 21:19:24.613  INFO 1472 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-18 21:19:24.625  INFO 1472 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-18 21:19:24.625  INFO 1472 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-18 21:19:24.806  INFO 1472 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-18 21:19:24.807  INFO 1472 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2302 ms
2020-08-18 21:19:24.969  INFO 1472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-18 21:19:25.515  INFO 1472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-18 21:19:27.368  INFO 1472 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 21:19:27.377  INFO 1472 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 21:19:27.380  INFO 1472 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-18 21:19:27.460  INFO 1472 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-18 21:19:30.449  INFO 1472 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-18 21:19:30.451  INFO 1472 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-18 21:19:30.452  INFO 1472 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-18 21:19:30.453  INFO 1472 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-18 21:19:30.597  INFO 1472 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-18 21:19:30.599  INFO 1472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-18 21:19:30.617  INFO 1472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-18 21:19:30.795  INFO 1472 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-18 21:19:30.808  INFO 1472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-18 21:19:30.808  WARN 1472 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-18 21:19:30.828  INFO 1472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-18 21:19:30.902  INFO 1472 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-18 21:19:30.979  INFO 1472 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-18 21:19:30.979  WARN 1472 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-18 21:19:31.197  INFO 1472 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-18 21:19:31.372  INFO 1472 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-18 21:19:31.540 DEBUG 1472 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@15405ba1}
2020-08-18 21:19:31.654 DEBUG 1472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-18 21:19:31.657 DEBUG 1472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-18 21:19:31.658 DEBUG 1472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-18 21:19:31.659 DEBUG 1472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-18 21:19:31.665 DEBUG 1472 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 21:19:31.667 DEBUG 1472 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 21:19:31.913  INFO 1472 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1892865f, org.springframework.security.web.context.SecurityContextPersistenceFilter@66b62ebd, org.springframework.security.web.header.HeaderWriterFilter@3d8e1fa6, org.springframework.security.web.authentication.logout.LogoutFilter@79f59e0e, ru.logisticplatform.security.jwt.JwtTokenFilter@460df441, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18cb4ed1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b8f87dc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@761f1a28, org.springframework.security.web.session.SessionManagementFilter@2e667e95, org.springframework.security.web.access.ExceptionTranslationFilter@30eee098, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4220468]
2020-08-18 21:19:31.994  INFO 1472 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-18 21:19:31.998  INFO 1472 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-18 21:19:32.735  INFO 1472 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-18 21:19:32.748  INFO 1472 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 21:19:33.381  INFO 1472 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-18 21:19:33.393  INFO 1472 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 11.907 seconds (JVM running for 13.124)
2020-08-18 21:19:37.697  INFO 1472 --- [http-nio-8068-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-18 21:19:37.697  INFO 1472 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-18 21:19:37.705  INFO 1472 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-08-18 21:19:37.720 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:19:37.722 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:19:37.725 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:19:37.727 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:19:37.727 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:19:37.727 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/logout'
2020-08-18 21:19:37.727 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:19:37.727 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'POST /logout'
2020-08-18 21:19:37.727 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:19:37.727 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'PUT /logout'
2020-08-18 21:19:37.727 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:19:37.728 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'DELETE /logout'
2020-08-18 21:19:37.728 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:19:37.728 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:19:38.053  INFO 1472 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-18 21:19:38.055  INFO 1472 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-18 21:19:38.056 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:19:38.056 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:19:38.058 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:19:38.058 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f7c3ec8b: Principal: ru.logisticplatform.security.jwt.JwtUser@219b5ec8; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 21:19:38.059 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:19:38.059 DEBUG 1472 --- [http-nio-8068-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@3f31892e
2020-08-18 21:19:38.059 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:19:38.059 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:19:38.060 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/sign/**'
2020-08-18 21:19:38.060 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/admins/**'
2020-08-18 21:19:38.060 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/customers/**'
2020-08-18 21:19:38.060 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/me; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 21:19:38.060 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f7c3ec8b: Principal: ru.logisticplatform.security.jwt.JwtUser@219b5ec8; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 21:19:38.064 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4c80875a, returned: 1
2020-08-18 21:19:38.065 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 21:19:38.065 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 21:19:38.065 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me reached end of additional filter chain; proceeding with original chain
2020-08-18 21:24:15.041  WARN 1472 --- [HikariPool-2 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=4m44s110ms585Âµs600ns).
2020-08-18 21:24:15.064 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@71695ed
2020-08-18 21:24:15.071 DEBUG 1472 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 21:24:15.072 DEBUG 1472 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:24:15.500  INFO 1472 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 21:24:15.504  INFO 1472 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-18 21:24:15.505  INFO 1472 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-18 21:24:15.527  INFO 1472 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-18 21:27:56.606  INFO 2772 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 2772 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-18 21:27:56.610  INFO 2772 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-18 21:27:57.801  INFO 2772 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-18 21:27:57.973  INFO 2772 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 157ms. Found 9 JPA repository interfaces.
2020-08-18 21:27:58.834  INFO 2772 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-18 21:27:58.848  INFO 2772 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-18 21:27:58.849  INFO 2772 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-18 21:27:59.032  INFO 2772 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-18 21:27:59.033  INFO 2772 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2350 ms
2020-08-18 21:27:59.195  INFO 2772 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-18 21:27:59.714  INFO 2772 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-18 21:28:01.399  INFO 2772 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 21:28:01.407  INFO 2772 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 21:28:01.410  INFO 2772 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-18 21:28:01.482  INFO 2772 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-18 21:28:04.358  INFO 2772 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-18 21:28:04.359  INFO 2772 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-18 21:28:04.361  INFO 2772 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-18 21:28:04.361  INFO 2772 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-18 21:28:04.490  INFO 2772 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-18 21:28:04.491  INFO 2772 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-18 21:28:04.510  INFO 2772 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-18 21:28:04.683  INFO 2772 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-18 21:28:04.694  INFO 2772 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-18 21:28:04.694  WARN 2772 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-18 21:28:04.713  INFO 2772 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-18 21:28:04.772  INFO 2772 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-18 21:28:04.833  WARN 2772 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-18 21:28:04.842  INFO 2772 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-18 21:28:05.076  INFO 2772 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-18 21:28:05.247  INFO 2772 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-18 21:28:05.409 DEBUG 2772 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@15405ba1}
2020-08-18 21:28:05.521 DEBUG 2772 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-18 21:28:05.524 DEBUG 2772 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-18 21:28:05.525 DEBUG 2772 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-18 21:28:05.525 DEBUG 2772 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-18 21:28:05.777 DEBUG 2772 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 21:28:05.779 DEBUG 2772 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 21:28:05.783  INFO 2772 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1892865f, org.springframework.security.web.context.SecurityContextPersistenceFilter@66b62ebd, org.springframework.security.web.header.HeaderWriterFilter@3d8e1fa6, org.springframework.security.web.authentication.logout.LogoutFilter@79f59e0e, ru.logisticplatform.security.jwt.JwtTokenFilter@460df441, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18cb4ed1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b8f87dc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@761f1a28, org.springframework.security.web.session.SessionManagementFilter@2e667e95, org.springframework.security.web.access.ExceptionTranslationFilter@30eee098, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@74901d7]
2020-08-18 21:28:05.850  INFO 2772 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-18 21:28:05.852  INFO 2772 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-18 21:28:06.575  INFO 2772 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-18 21:28:06.589  INFO 2772 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 21:28:07.157  INFO 2772 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-18 21:28:07.169  INFO 2772 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 11.513 seconds (JVM running for 12.704)
2020-08-18 21:28:17.561  INFO 2772 --- [http-nio-8068-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-18 21:28:17.561  INFO 2772 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-18 21:28:17.570  INFO 2772 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2020-08-18 21:28:17.585 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:28:17.586 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:28:17.589 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:28:17.591 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:28:17.591 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:28:17.591 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/logout'
2020-08-18 21:28:17.591 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:28:17.591 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'POST /logout'
2020-08-18 21:28:17.592 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:28:17.592 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'PUT /logout'
2020-08-18 21:28:17.592 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:28:17.592 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'DELETE /logout'
2020-08-18 21:28:17.592 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:28:17.592 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:28:17.886  INFO 2772 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-18 21:28:17.888  INFO 2772 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-18 21:28:17.889 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:28:17.889 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:28:17.890 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:28:17.891 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c1efb743: Principal: ru.logisticplatform.security.jwt.JwtUser@17b70500; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 21:28:17.891 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:28:17.891 DEBUG 2772 --- [http-nio-8068-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@3f31892e
2020-08-18 21:28:17.891 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:28:17.891 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:28:17.892 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/sign/**'
2020-08-18 21:28:17.892 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/admins/**'
2020-08-18 21:28:17.892 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/customers/**'
2020-08-18 21:28:17.892 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/me; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 21:28:17.892 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c1efb743: Principal: ru.logisticplatform.security.jwt.JwtUser@17b70500; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 21:28:17.897 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@29c9381c, returned: 1
2020-08-18 21:28:17.897 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 21:28:17.897 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 21:28:17.897 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me reached end of additional filter chain; proceeding with original chain
2020-08-18 21:28:17.928  INFO 2772 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-18 21:28:18.075 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5fd458d6
2020-08-18 21:28:18.083 DEBUG 2772 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 21:28:18.083 DEBUG 2772 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:28:37.194 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:28:37.194 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:28:37.194 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:28:37.195 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:28:37.195 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:28:37.195 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/admins/users/3'; against '/logout'
2020-08-18 21:28:37.195 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:28:37.195 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/admins/users/3' doesn't match 'POST /logout'
2020-08-18 21:28:37.195 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:28:37.195 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/admins/users/3' doesn't match 'PUT /logout'
2020-08-18 21:28:37.195 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:28:37.196 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/admins/users/3' doesn't match 'DELETE /logout'
2020-08-18 21:28:37.196 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:28:37.196 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:28:37.203 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5fd458d6
2020-08-18 21:28:37.203 DEBUG 2772 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:28:37.212 ERROR 2772 --- [http-nio-8068-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

ru.logisticplatform.security.jwt.JwtAuthenticationException: JWT token is expired or invalid
	at ru.logisticplatform.security.jwt.JwtTokenProvider.validateToken(JwtTokenProvider.java:99) ~[classes/:na]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:27) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-18 21:28:37.219 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:28:37.220 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:28:37.220 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:28:37.220 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:28:37.220 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:28:37.220 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-18 21:28:37.220 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:28:37.220 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout'
2020-08-18 21:28:37.221 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:28:37.221 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'PUT /logout'
2020-08-18 21:28:37.221 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:28:37.221 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'DELETE /logout'
2020-08-18 21:28:37.221 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:28:37.221 DEBUG 2772 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:28:37.223 DEBUG 2772 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:28:37.224 ERROR 2772 --- [http-nio-8068-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] threw exception

ru.logisticplatform.security.jwt.JwtAuthenticationException: JWT token is expired or invalid
	at ru.logisticplatform.security.jwt.JwtTokenProvider.validateToken(JwtTokenProvider.java:99) ~[classes/:na]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:27) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-18 21:28:37.226 ERROR 2772 --- [http-nio-8068-exec-3] o.a.c.c.C.[Tomcat].[localhost]           : Exception Processing ErrorPage[errorCode=0, location=/error]

ru.logisticplatform.security.jwt.JwtAuthenticationException: JWT token is expired or invalid
	at ru.logisticplatform.security.jwt.JwtTokenProvider.validateToken(JwtTokenProvider.java:99) ~[classes/:na]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:27) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-18 21:28:57.234 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:28:57.235 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:28:57.235 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:28:57.235 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:28:57.235 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:28:57.235 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-18 21:28:57.235 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:28:57.235 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-18 21:28:57.236 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:28:57.236 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-18 21:28:57.236 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:28:57.236 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-18 21:28:57.236 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:28:57.236 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:28:57.236 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:28:57.237 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:28:57.237 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:28:57.238 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@f5c527e4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-18 21:28:57.238 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:28:57.238 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:28:57.238 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:28:57.238 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-18 21:28:57.238 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-18 21:28:57.239 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@f5c527e4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-18 21:28:57.242 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@29c9381c, returned: 1
2020-08-18 21:28:57.243 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 21:28:57.243 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 21:28:57.243 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-18 21:28:57.282 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-18 21:28:57.443  INFO 2772 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 2, name: ROLE_CONTRACTOR}, Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: admin
2020-08-18 21:28:57.443  INFO 2772 --- [http-nio-8068-exec-5] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: admin successfully loaded
2020-08-18 21:28:57.450  INFO 2772 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 2, name: ROLE_CONTRACTOR}, Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: admin
2020-08-18 21:28:57.485 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5fd458d6
2020-08-18 21:28:57.487 DEBUG 2772 --- [http-nio-8068-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 21:28:57.487 DEBUG 2772 --- [http-nio-8068-exec-5] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:29:22.351 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:29:22.351 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:29:22.351 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:29:22.352 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:29:22.352 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:29:22.352 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/admins/users/3'; against '/logout'
2020-08-18 21:29:22.352 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:29:22.352 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/admins/users/3' doesn't match 'POST /logout'
2020-08-18 21:29:22.352 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:29:22.352 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/admins/users/3' doesn't match 'PUT /logout'
2020-08-18 21:29:22.352 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:29:22.352 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/admins/users/3' doesn't match 'DELETE /logout'
2020-08-18 21:29:22.353 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:29:22.353 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:29:22.360  INFO 2772 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 2, name: ROLE_CONTRACTOR}, Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: admin
2020-08-18 21:29:22.360  INFO 2772 --- [http-nio-8068-exec-6] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: admin successfully loaded
2020-08-18 21:29:22.360 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:29:22.360 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:29:22.360 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:29:22.360 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c622dcad: Principal: ru.logisticplatform.security.jwt.JwtUser@4f587d16; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ADMIN, ROLE_CONTRACTOR, ROLE_CUSTOMER'
2020-08-18 21:29:22.360 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:29:22.361 DEBUG 2772 --- [http-nio-8068-exec-6] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@3f31892e
2020-08-18 21:29:22.361 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:29:22.361 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:29:22.361 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/admins/users/3'; against '/api/v1/sign/**'
2020-08-18 21:29:22.361 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/admins/users/3'; against '/api/v1/admins/**'
2020-08-18 21:29:22.361 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/admins/users/3; Attributes: [hasRole('ROLE_ADMIN')]
2020-08-18 21:29:22.361 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c622dcad: Principal: ru.logisticplatform.security.jwt.JwtUser@4f587d16; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ADMIN, ROLE_CONTRACTOR, ROLE_CUSTOMER
2020-08-18 21:29:22.362 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@29c9381c, returned: 1
2020-08-18 21:29:22.362 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 21:29:22.362 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 21:29:22.362 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/3 reached end of additional filter chain; proceeding with original chain
2020-08-18 21:29:22.397  INFO 2772 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findById - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by id: 3
2020-08-18 21:29:22.412 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5fd458d6
2020-08-18 21:29:22.414 DEBUG 2772 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 21:29:22.414 DEBUG 2772 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:29:27.500 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/ at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:29:27.501 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/ at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:29:27.501 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/ at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:29:27.501 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/ at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:29:27.501 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:29:27.501 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/admins/users/'; against '/logout'
2020-08-18 21:29:27.501 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:29:27.501 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/admins/users/' doesn't match 'POST /logout'
2020-08-18 21:29:27.502 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:29:27.502 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/admins/users/' doesn't match 'PUT /logout'
2020-08-18 21:29:27.502 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:29:27.502 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/admins/users/' doesn't match 'DELETE /logout'
2020-08-18 21:29:27.502 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:29:27.502 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/ at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:29:27.510  INFO 2772 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 2, name: ROLE_CONTRACTOR}, Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: admin
2020-08-18 21:29:27.511  INFO 2772 --- [http-nio-8068-exec-7] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: admin successfully loaded
2020-08-18 21:29:27.511 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/ at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:29:27.511 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/ at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:29:27.511 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/ at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:29:27.511 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b96488bc: Principal: ru.logisticplatform.security.jwt.JwtUser@301e2907; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ADMIN, ROLE_CONTRACTOR, ROLE_CUSTOMER'
2020-08-18 21:29:27.512 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/ at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:29:27.512 DEBUG 2772 --- [http-nio-8068-exec-7] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@3f31892e
2020-08-18 21:29:27.512 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/ at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:29:27.512 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/ at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:29:27.512 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/admins/users/'; against '/api/v1/sign/**'
2020-08-18 21:29:27.512 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/admins/users/'; against '/api/v1/admins/**'
2020-08-18 21:29:27.512 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/admins/users/; Attributes: [hasRole('ROLE_ADMIN')]
2020-08-18 21:29:27.512 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b96488bc: Principal: ru.logisticplatform.security.jwt.JwtUser@301e2907; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ADMIN, ROLE_CONTRACTOR, ROLE_CUSTOMER
2020-08-18 21:29:27.513 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@29c9381c, returned: 1
2020-08-18 21:29:27.514 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 21:29:27.514 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 21:29:27.514 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/admins/users/ reached end of additional filter chain; proceeding with original chain
2020-08-18 21:29:27.515  INFO 2772 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl getAll
2020-08-18 21:29:27.540 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5fd458d6
2020-08-18 21:29:27.541 DEBUG 2772 --- [http-nio-8068-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 21:29:27.541 DEBUG 2772 --- [http-nio-8068-exec-7] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:30:00.784 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:30:00.785 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:30:00.785 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:30:00.785 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:30:00.785 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:30:00.785 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/logout'
2020-08-18 21:30:00.785 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:30:00.785 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'POST /logout'
2020-08-18 21:30:00.786 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:30:00.786 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'PUT /logout'
2020-08-18 21:30:00.786 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:30:00.786 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'DELETE /logout'
2020-08-18 21:30:00.786 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:30:00.786 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:30:00.793  INFO 2772 --- [http-nio-8068-exec-8] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 2, name: ROLE_CONTRACTOR}, Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: admin
2020-08-18 21:30:00.793  INFO 2772 --- [http-nio-8068-exec-8] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: admin successfully loaded
2020-08-18 21:30:00.793 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:30:00.793 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:30:00.794 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:30:00.794 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c0f0a0e3: Principal: ru.logisticplatform.security.jwt.JwtUser@498a0158; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ADMIN, ROLE_CONTRACTOR, ROLE_CUSTOMER'
2020-08-18 21:30:00.794 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:30:00.794 DEBUG 2772 --- [http-nio-8068-exec-8] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@3f31892e
2020-08-18 21:30:00.794 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:30:00.794 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:30:00.794 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/sign/**'
2020-08-18 21:30:00.794 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/admins/**'
2020-08-18 21:30:00.794 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/customers/**'
2020-08-18 21:30:00.795 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/me; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 21:30:00.795 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c0f0a0e3: Principal: ru.logisticplatform.security.jwt.JwtUser@498a0158; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ADMIN, ROLE_CONTRACTOR, ROLE_CUSTOMER
2020-08-18 21:30:00.795 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@29c9381c, returned: 1
2020-08-18 21:30:00.795 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 21:30:00.796 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 21:30:00.796 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me reached end of additional filter chain; proceeding with original chain
2020-08-18 21:30:00.801  INFO 2772 --- [http-nio-8068-exec-8] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 2, name: ROLE_CONTRACTOR}, Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: admin
2020-08-18 21:30:00.802 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5fd458d6
2020-08-18 21:30:00.803 DEBUG 2772 --- [http-nio-8068-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 21:30:00.803 DEBUG 2772 --- [http-nio-8068-exec-8] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:30:28.334 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:30:28.335 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:30:28.335 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:30:28.335 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:30:28.335 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:30:28.335 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-18 21:30:28.335 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:30:28.335 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-18 21:30:28.335 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:30:28.335 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-18 21:30:28.335 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:30:28.335 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-18 21:30:28.335 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:30:28.335 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:30:28.336 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:30:28.336 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:30:28.336 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:30:28.336 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@f5c527e4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-18 21:30:28.336 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:30:28.336 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:30:28.336 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:30:28.336 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-18 21:30:28.336 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-18 21:30:28.336 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@f5c527e4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-18 21:30:28.337 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@29c9381c, returned: 1
2020-08-18 21:30:28.337 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 21:30:28.337 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 21:30:28.337 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-18 21:30:28.338 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-18 21:30:28.344  INFO 2772 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 21:30:28.344  INFO 2772 --- [http-nio-8068-exec-9] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-18 21:30:28.473  INFO 2772 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 21:30:28.475 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5fd458d6
2020-08-18 21:30:28.476 DEBUG 2772 --- [http-nio-8068-exec-9] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 21:30:28.476 DEBUG 2772 --- [http-nio-8068-exec-9] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:30:42.618 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:30:42.618 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:30:42.618 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:30:42.618 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:30:42.618 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:30:42.618 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/logout'
2020-08-18 21:30:42.618 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:30:42.619 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'POST /logout'
2020-08-18 21:30:42.619 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:30:42.619 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'PUT /logout'
2020-08-18 21:30:42.619 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:30:42.619 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'DELETE /logout'
2020-08-18 21:30:42.619 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:30:42.619 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:30:42.625  INFO 2772 --- [http-nio-8068-exec-10] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 21:30:42.625  INFO 2772 --- [http-nio-8068-exec-10] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-18 21:30:42.625 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:30:42.625 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:30:42.625 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:30:42.625 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7f8d46f6: Principal: ru.logisticplatform.security.jwt.JwtUser@600c9cec; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-18 21:30:42.625 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:30:42.626 DEBUG 2772 --- [http-nio-8068-exec-10] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@3f31892e
2020-08-18 21:30:42.626 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:30:42.626 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:30:42.626 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/sign/**'
2020-08-18 21:30:42.626 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/admins/**'
2020-08-18 21:30:42.626 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/customers/**'
2020-08-18 21:30:42.626 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/me; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 21:30:42.626 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7f8d46f6: Principal: ru.logisticplatform.security.jwt.JwtUser@600c9cec; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-18 21:30:42.627 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@29c9381c, returned: -1
2020-08-18 21:30:42.630 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Access is denied (user is not anonymous); delegating to AccessDeniedHandler

org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:123) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) [classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-18 21:30:42.631 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5fd458d6
2020-08-18 21:30:42.632 DEBUG 2772 --- [http-nio-8068-exec-10] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:30:42.632 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:30:42.632 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:30:42.632 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:30:42.632 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:30:42.632 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:30:42.633 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-18 21:30:42.633 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:30:42.633 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout'
2020-08-18 21:30:42.633 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:30:42.633 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'PUT /logout'
2020-08-18 21:30:42.633 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:30:42.633 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'DELETE /logout'
2020-08-18 21:30:42.633 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:30:42.633 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:30:42.639  INFO 2772 --- [http-nio-8068-exec-10] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 21:30:42.639  INFO 2772 --- [http-nio-8068-exec-10] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-18 21:30:42.639 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:30:42.639 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:30:42.639 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:30:42.639 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@44ae79db: Principal: ru.logisticplatform.security.jwt.JwtUser@5b2fa3c1; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-18 21:30:42.639 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:30:42.639 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:30:42.640 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:30:42.640 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-18 21:30:42.652 DEBUG 2772 --- [http-nio-8068-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 21:30:42.652 DEBUG 2772 --- [http-nio-8068-exec-10] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:58:27.586  INFO 2772 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 21:58:27.590  INFO 2772 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-18 21:58:27.591  INFO 2772 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-18 21:58:27.596  INFO 2772 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-18 21:58:46.030  INFO 7328 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 7328 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-18 21:58:46.034  INFO 7328 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-18 21:58:47.142  INFO 7328 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-18 21:58:47.303  INFO 7328 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 149ms. Found 9 JPA repository interfaces.
2020-08-18 21:58:48.013  INFO 7328 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-18 21:58:48.025  INFO 7328 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-18 21:58:48.026  INFO 7328 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-18 21:58:48.263  INFO 7328 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-18 21:58:48.264  INFO 7328 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2168 ms
2020-08-18 21:58:48.497  INFO 7328 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-18 21:58:49.037  INFO 7328 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-18 21:58:50.888  INFO 7328 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 21:58:50.897  INFO 7328 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 21:58:50.901  INFO 7328 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-18 21:58:50.967  INFO 7328 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-18 21:58:54.544  INFO 7328 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-18 21:58:54.546  INFO 7328 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-18 21:58:54.547  INFO 7328 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-18 21:58:54.548  INFO 7328 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-18 21:58:54.676  INFO 7328 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-18 21:58:54.677  INFO 7328 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-18 21:58:54.696  INFO 7328 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-18 21:58:54.860  INFO 7328 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-18 21:58:54.870  INFO 7328 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-18 21:58:54.870  WARN 7328 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-18 21:58:54.889  INFO 7328 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-18 21:58:54.946  INFO 7328 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-18 21:58:55.001  WARN 7328 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-18 21:58:55.015  INFO 7328 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-18 21:58:55.221  INFO 7328 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-18 21:58:55.387  INFO 7328 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-18 21:58:55.535 DEBUG 7328 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@ecfff32}
2020-08-18 21:58:55.639 DEBUG 7328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-18 21:58:55.643 DEBUG 7328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-18 21:58:55.645 DEBUG 7328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-18 21:58:55.645 DEBUG 7328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-18 21:58:55.652 DEBUG 7328 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 21:58:55.653 DEBUG 7328 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 21:58:55.656  INFO 7328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3146f3d7, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e76d0d3, org.springframework.security.web.header.HeaderWriterFilter@404566e7, org.springframework.security.web.authentication.logout.LogoutFilter@5dc1597f, ru.logisticplatform.security.jwt.JwtTokenFilter@4220468, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1932ad2c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@514b247b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@727e61ed, org.springframework.security.web.session.SessionManagementFilter@4587f0f9, org.springframework.security.web.access.ExceptionTranslationFilter@51a5a8ba, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7699e60a]
2020-08-18 21:58:55.987  INFO 7328 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-18 21:58:55.991  INFO 7328 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-18 21:58:56.720  INFO 7328 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-18 21:58:56.740  INFO 7328 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 21:58:57.426  INFO 7328 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-18 21:58:57.439  INFO 7328 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 12.537 seconds (JVM running for 13.688)
2020-08-18 21:59:16.491  INFO 7328 --- [http-nio-8068-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-18 21:59:16.491  INFO 7328 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-18 21:59:16.499  INFO 7328 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-08-18 21:59:16.514 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:59:16.515 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:59:16.518 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:59:16.520 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:59:16.520 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:59:16.520 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/logout'
2020-08-18 21:59:16.520 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:59:16.521 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'POST /logout'
2020-08-18 21:59:16.521 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:59:16.521 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'PUT /logout'
2020-08-18 21:59:16.521 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:59:16.521 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'DELETE /logout'
2020-08-18 21:59:16.521 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:59:16.521 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:59:16.815  INFO 7328 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 21:59:16.818  INFO 7328 --- [http-nio-8068-exec-1] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-18 21:59:16.819 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:59:16.819 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:59:16.821 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:59:16.822 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@5b494eae: Principal: ru.logisticplatform.security.jwt.JwtUser@44c894b4; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-18 21:59:16.822 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:59:16.822 DEBUG 7328 --- [http-nio-8068-exec-1] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34114276
2020-08-18 21:59:16.822 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:59:16.822 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:59:16.823 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/sign/**'
2020-08-18 21:59:16.823 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/admins/**'
2020-08-18 21:59:16.823 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/customers/**'
2020-08-18 21:59:16.823 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/me; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 21:59:16.823 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@5b494eae: Principal: ru.logisticplatform.security.jwt.JwtUser@44c894b4; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-18 21:59:16.828 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: -1
2020-08-18 21:59:16.835 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Access is denied (user is not anonymous); delegating to AccessDeniedHandler

org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:123) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) [classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-18 21:59:16.837 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 21:59:16.837 DEBUG 7328 --- [http-nio-8068-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:59:16.842 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:59:16.842 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:59:16.843 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:59:16.843 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:59:16.843 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:59:16.843 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-18 21:59:16.843 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:59:16.843 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout'
2020-08-18 21:59:16.843 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:59:16.843 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'PUT /logout'
2020-08-18 21:59:16.844 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:59:16.844 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'DELETE /logout'
2020-08-18 21:59:16.844 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:59:16.844 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:59:16.851  INFO 7328 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 21:59:16.852  INFO 7328 --- [http-nio-8068-exec-1] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-18 21:59:16.852 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:59:16.852 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:59:16.852 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:59:16.852 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@33803348: Principal: ru.logisticplatform.security.jwt.JwtUser@2c01e952; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-18 21:59:16.852 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:59:16.852 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:59:16.853 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:59:16.853 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-18 21:59:16.953 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 21:59:16.953 DEBUG 7328 --- [http-nio-8068-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:59:20.562 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:59:20.562 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:59:20.562 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:59:20.563 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:59:20.563 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:59:20.563 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/logout'
2020-08-18 21:59:20.563 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:59:20.563 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'POST /logout'
2020-08-18 21:59:20.563 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:59:20.563 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'PUT /logout'
2020-08-18 21:59:20.564 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:59:20.564 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'DELETE /logout'
2020-08-18 21:59:20.564 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:59:20.564 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:59:20.572  INFO 7328 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 21:59:20.573  INFO 7328 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-18 21:59:20.573 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:59:20.573 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:59:20.573 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:59:20.573 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@6c908bef: Principal: ru.logisticplatform.security.jwt.JwtUser@731151f5; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-18 21:59:20.573 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:59:20.574 DEBUG 7328 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34114276
2020-08-18 21:59:20.574 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:59:20.574 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:59:20.574 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/sign/**'
2020-08-18 21:59:20.574 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/admins/**'
2020-08-18 21:59:20.574 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/customers/**'
2020-08-18 21:59:20.574 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/me; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 21:59:20.574 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@6c908bef: Principal: ru.logisticplatform.security.jwt.JwtUser@731151f5; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-18 21:59:20.575 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: -1
2020-08-18 21:59:20.577 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Access is denied (user is not anonymous); delegating to AccessDeniedHandler

org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:123) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) [classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-18 21:59:20.578 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 21:59:20.578 DEBUG 7328 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 21:59:20.578 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 21:59:20.578 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 21:59:20.579 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 21:59:20.579 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 21:59:20.579 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 21:59:20.579 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-18 21:59:20.579 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 21:59:20.579 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout'
2020-08-18 21:59:20.579 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 21:59:20.579 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'PUT /logout'
2020-08-18 21:59:20.580 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 21:59:20.580 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'DELETE /logout'
2020-08-18 21:59:20.580 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 21:59:20.580 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 21:59:20.588  INFO 7328 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 21:59:20.588  INFO 7328 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-18 21:59:20.589 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 21:59:20.589 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 21:59:20.589 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 21:59:20.589 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@5312e0e7: Principal: ru.logisticplatform.security.jwt.JwtUser@4c933afd; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-18 21:59:20.589 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 21:59:20.589 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 21:59:20.589 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 21:59:20.589 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-18 21:59:20.594 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 21:59:20.594 DEBUG 7328 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:00:33.762 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:00:33.762 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:00:33.762 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:00:33.762 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:00:33.762 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:00:33.762 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'GET /logout'
2020-08-18 22:00:33.763 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:00:33.763 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/logout'
2020-08-18 22:00:33.763 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:00:33.763 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'PUT /logout'
2020-08-18 22:00:33.763 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:00:33.763 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'DELETE /logout'
2020-08-18 22:00:33.763 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:00:33.763 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:00:33.763 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:00:33.764 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:00:33.764 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:00:33.765 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-18 22:00:33.765 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:00:33.765 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:00:33.765 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:00:33.765 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/api/v1/sign/**'
2020-08-18 22:00:33.765 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/up; Attributes: [permitAll]
2020-08-18 22:00:33.765 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-18 22:00:33.769 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:00:33.769 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:00:33.769 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:00:33.770 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/up reached end of additional filter chain; proceeding with original chain
2020-08-18 22:01:06.665 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:01:06.665 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:01:06.665 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:01:06.665 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:01:06.665 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:01:06.666 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'GET /logout'
2020-08-18 22:01:06.666 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:01:06.666 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/logout'
2020-08-18 22:01:06.666 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:01:06.666 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'PUT /logout'
2020-08-18 22:01:06.666 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:01:06.666 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'DELETE /logout'
2020-08-18 22:01:06.666 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:01:06.666 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:01:06.666 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:01:06.666 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:01:06.666 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:01:06.667 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-18 22:01:06.667 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:01:06.667 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:01:06.667 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:01:06.667 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/api/v1/sign/**'
2020-08-18 22:01:06.667 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/up; Attributes: [permitAll]
2020-08-18 22:01:06.667 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-18 22:01:06.668 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:01:06.668 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:01:06.668 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:01:06.668 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/up reached end of additional filter chain; proceeding with original chain
2020-08-18 22:01:06.674  INFO 7328 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-18 22:01:06.693 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:01:06.693 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:01:06.693 DEBUG 7328 --- [http-nio-8068-exec-9] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:01:06.718  INFO 7328 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-18 22:01:08.095 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:01:10.920 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:01:10.920 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:01:10.920 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:01:10.920 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:01:10.920 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:01:10.920 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'GET /logout'
2020-08-18 22:01:10.920 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:01:10.920 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:01:10.920 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/logout'
2020-08-18 22:01:10.921 DEBUG 7328 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:01:10.921 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:01:10.921 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'PUT /logout'
2020-08-18 22:01:10.921 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:01:10.921 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'DELETE /logout'
2020-08-18 22:01:10.921 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:01:10.921 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:01:10.921 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:01:10.921 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:01:10.921 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:01:10.922 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-18 22:01:10.922 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:01:10.922 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:01:10.922 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:01:10.922 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/api/v1/sign/**'
2020-08-18 22:01:10.922 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/up; Attributes: [permitAll]
2020-08-18 22:01:10.922 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-18 22:01:10.922 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:01:10.922 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:01:10.923 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:01:10.923 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/up reached end of additional filter chain; proceeding with original chain
2020-08-18 22:01:10.928  INFO 7328 --- [http-nio-8068-exec-8] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 22:01:10.928 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:01:10.929 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:01:10.929 DEBUG 7328 --- [http-nio-8068-exec-8] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:01:10.962 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:01:10.962 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:01:10.962 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'GET /logout'
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/logout'
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'PUT /logout'
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'DELETE /logout'
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-18 22:01:10.963 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:01:10.964 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:01:10.964 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:01:10.964 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/api/v1/sign/**'
2020-08-18 22:01:10.964 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/up; Attributes: [permitAll]
2020-08-18 22:01:10.964 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-18 22:01:10.964 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:01:10.964 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:01:10.964 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:01:10.964 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/sign/up reached end of additional filter chain; proceeding with original chain
2020-08-18 22:01:10.968  INFO 7328 --- [http-nio-8068-exec-10] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: null found by userName: customer3
2020-08-18 22:01:10.974  INFO 7328 --- [http-nio-8068-exec-10] r.l.service.user.impl.RoleServiceImpl    : IN RoleServiceImpl findByRoleName - role: Role{id: 3, name: ROLE_CUSTOMER} found by roleName: ROLE_CUSTOMER
2020-08-18 22:01:11.289  INFO 7328 --- [http-nio-8068-exec-10] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl signUp - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} successfully registered
2020-08-18 22:01:11.297 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:01:11.298 DEBUG 7328 --- [http-nio-8068-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:01:11.298 DEBUG 7328 --- [http-nio-8068-exec-10] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:01:11.335 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:01:11.335 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:01:11.335 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:01:11.335 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:01:11.335 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:01:11.335 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'GET /logout'
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/logout'
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'PUT /logout'
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'DELETE /logout'
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:01:11.336 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/api/v1/sign/**'
2020-08-18 22:01:11.337 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/up; Attributes: [permitAll]
2020-08-18 22:01:11.337 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-18 22:01:11.337 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:01:11.337 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:01:11.337 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:01:11.337 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/up reached end of additional filter chain; proceeding with original chain
2020-08-18 22:01:11.343  INFO 7328 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-18 22:01:11.344 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:01:11.344 DEBUG 7328 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:01:11.344 DEBUG 7328 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:01:24.060 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:01:24.061 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:01:24.061 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:01:24.061 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:01:24.061 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:01:24.061 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'GET /logout'
2020-08-18 22:01:24.061 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:01:24.061 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/logout'
2020-08-18 22:01:24.061 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:01:24.061 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'PUT /logout'
2020-08-18 22:01:24.061 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:01:24.061 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'DELETE /logout'
2020-08-18 22:01:24.061 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:01:24.062 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:01:24.062 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:01:24.062 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:01:24.062 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:01:24.062 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-18 22:01:24.062 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:01:24.062 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:01:24.062 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:01:24.062 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/api/v1/sign/**'
2020-08-18 22:01:24.063 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/up; Attributes: [permitAll]
2020-08-18 22:01:24.063 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-18 22:01:24.063 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:01:24.063 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:01:24.063 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:01:24.063 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/up reached end of additional filter chain; proceeding with original chain
2020-08-18 22:01:24.068  INFO 7328 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-18 22:01:24.069 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:01:24.069 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:01:24.069 DEBUG 7328 --- [http-nio-8068-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:01:24.106 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:01:24.106 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:01:24.106 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'GET /logout'
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/logout'
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'PUT /logout'
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'DELETE /logout'
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:01:24.107 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:01:24.108 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/api/v1/sign/**'
2020-08-18 22:01:24.108 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/up; Attributes: [permitAll]
2020-08-18 22:01:24.108 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-18 22:01:24.108 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:01:24.108 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:01:24.108 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:01:24.108 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/up reached end of additional filter chain; proceeding with original chain
2020-08-18 22:01:24.113  INFO 7328 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 22:01:24.114 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:01:24.114 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:01:24.114 DEBUG 7328 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:01:24.143 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'GET /logout'
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/logout'
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'PUT /logout'
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'DELETE /logout'
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:01:24.144 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:01:24.145 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:01:24.145 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-18 22:01:24.145 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:01:24.145 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:01:24.145 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:01:24.145 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/api/v1/sign/**'
2020-08-18 22:01:24.145 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/up; Attributes: [permitAll]
2020-08-18 22:01:24.146 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-18 22:01:24.146 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:01:24.146 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:01:24.146 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:01:24.146 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/up reached end of additional filter chain; proceeding with original chain
2020-08-18 22:01:24.151  INFO 7328 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:01:24.152 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:01:24.152 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:01:24.152 DEBUG 7328 --- [http-nio-8068-exec-5] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:01:24.182 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:01:24.182 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:01:24.183 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:01:24.183 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:01:24.183 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:01:24.183 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'GET /logout'
2020-08-18 22:01:24.183 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:01:24.183 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/logout'
2020-08-18 22:01:24.183 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:01:24.183 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'PUT /logout'
2020-08-18 22:01:24.183 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:01:24.183 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/up' doesn't match 'DELETE /logout'
2020-08-18 22:01:24.183 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:01:24.183 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:01:24.183 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:01:24.183 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:01:24.184 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:01:24.184 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-18 22:01:24.184 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:01:24.184 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:01:24.184 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/up at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:01:24.184 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/up'; against '/api/v1/sign/**'
2020-08-18 22:01:24.184 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/up; Attributes: [permitAll]
2020-08-18 22:01:24.184 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-18 22:01:24.184 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:01:24.184 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:01:24.184 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:01:24.184 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/up reached end of additional filter chain; proceeding with original chain
2020-08-18 22:01:24.189  INFO 7328 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-18 22:01:24.190 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:01:24.190 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:01:24.190 DEBUG 7328 --- [http-nio-8068-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:03:20.381 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:03:20.381 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:03:20.381 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:03:20.381 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:03:20.382 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:03:20.382 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-18 22:03:20.382 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:03:20.382 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-18 22:03:20.382 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:03:20.382 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-18 22:03:20.382 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:03:20.382 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-18 22:03:20.382 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:03:20.382 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:03:20.382 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:03:20.382 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:03:20.382 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:03:20.383 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-18 22:03:20.383 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:03:20.383 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:03:20.383 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:03:20.383 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-18 22:03:20.383 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-18 22:03:20.383 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@2e911951: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-18 22:03:20.383 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:03:20.384 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:03:20.384 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:03:20.384 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-18 22:03:20.386 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-18 22:03:20.518  INFO 7328 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:03:20.518  INFO 7328 --- [http-nio-8068-exec-6] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:03:20.649  INFO 7328 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:03:20.662 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:03:20.663 DEBUG 7328 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:03:20.663 DEBUG 7328 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:04:20.402 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:04:20.403 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:04:20.403 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:04:20.403 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:04:20.403 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:04:20.403 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/logout'
2020-08-18 22:04:20.403 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:04:20.403 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'POST /logout'
2020-08-18 22:04:20.403 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:04:20.403 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'PUT /logout'
2020-08-18 22:04:20.403 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:04:20.404 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'DELETE /logout'
2020-08-18 22:04:20.404 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:04:20.404 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:04:20.415  INFO 7328 --- [http-nio-8068-exec-8] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:04:20.416  INFO 7328 --- [http-nio-8068-exec-8] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:04:20.416 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:04:20.416 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:04:20.416 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:04:20.416 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9ca603e1: Principal: ru.logisticplatform.security.jwt.JwtUser@4afeb1a2; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:04:20.416 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:04:20.416 DEBUG 7328 --- [http-nio-8068-exec-8] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34114276
2020-08-18 22:04:20.416 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:04:20.417 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:04:20.417 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/sign/**'
2020-08-18 22:04:20.417 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/admins/**'
2020-08-18 22:04:20.417 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/customers/**'
2020-08-18 22:04:20.417 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/me; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:04:20.417 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9ca603e1: Principal: ru.logisticplatform.security.jwt.JwtUser@4afeb1a2; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:04:20.418 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:04:20.418 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:04:20.418 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:04:20.418 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/customers/me reached end of additional filter chain; proceeding with original chain
2020-08-18 22:04:20.425  INFO 7328 --- [http-nio-8068-exec-8] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:04:20.431 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:04:20.432 DEBUG 7328 --- [http-nio-8068-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:04:20.433 DEBUG 7328 --- [http-nio-8068-exec-8] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:05:34.048 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:05:34.049 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:05:34.049 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:05:34.049 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:05:34.049 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:05:34.049 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/admin'; against '/logout'
2020-08-18 22:05:34.049 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:05:34.049 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/admin' doesn't match 'POST /logout'
2020-08-18 22:05:34.049 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:05:34.049 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/admin' doesn't match 'PUT /logout'
2020-08-18 22:05:34.050 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:05:34.050 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/admin' doesn't match 'DELETE /logout'
2020-08-18 22:05:34.050 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:05:34.050 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:05:34.058  INFO 7328 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:05:34.058  INFO 7328 --- [http-nio-8068-exec-1] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:05:34.058 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:05:34.058 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:05:34.058 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:05:34.059 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c957d101: Principal: ru.logisticplatform.security.jwt.JwtUser@1f0f6342; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:05:34.059 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:05:34.059 DEBUG 7328 --- [http-nio-8068-exec-1] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34114276
2020-08-18 22:05:34.059 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:05:34.059 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:05:34.059 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/admin'; against '/api/v1/sign/**'
2020-08-18 22:05:34.059 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/admin'; against '/api/v1/admins/**'
2020-08-18 22:05:34.059 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/admin'; against '/api/v1/customers/**'
2020-08-18 22:05:34.059 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/admin; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:05:34.059 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c957d101: Principal: ru.logisticplatform.security.jwt.JwtUser@1f0f6342; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:05:34.060 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:05:34.060 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:05:34.060 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:05:34.060 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin reached end of additional filter chain; proceeding with original chain
2020-08-18 22:05:34.069  INFO 7328 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 2, name: ROLE_CONTRACTOR}, Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: admin
2020-08-18 22:05:34.070 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:05:34.070 DEBUG 7328 --- [http-nio-8068-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:05:34.070 DEBUG 7328 --- [http-nio-8068-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:05:55.041 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:05:55.041 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:05:55.041 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:05:55.041 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:05:55.041 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:05:55.042 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:05:55.042 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:05:55.042 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:05:55.042 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:05:55.042 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:05:55.042 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:05:55.042 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:05:55.042 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:05:55.042 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:05:55.048  INFO 7328 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:05:55.048  INFO 7328 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:05:55.048 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:05:55.049 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:05:55.049 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:05:55.049 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@99b0848d: Principal: ru.logisticplatform.security.jwt.JwtUser@4fe836ce; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:05:55.049 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:05:55.049 DEBUG 7328 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34114276
2020-08-18 22:05:55.049 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:05:55.049 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:05:55.049 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:05:55.049 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:05:55.049 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:05:55.049 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:05:55.049 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@99b0848d: Principal: ru.logisticplatform.security.jwt.JwtUser@4fe836ce; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:05:55.050 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:05:55.050 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:05:55.050 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:05:55.050 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:05:55.055  INFO 7328 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 22:05:55.056 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:05:55.056 DEBUG 7328 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:05:55.056 DEBUG 7328 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:06:02.303 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:06:02.303 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:06:02.303 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:06:02.303 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:06:02.303 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:06:02.303 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:06:02.303 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:06:02.303 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:06:02.304 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:06:02.304 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:06:02.304 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:06:02.304 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:06:02.304 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:06:02.304 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:06:02.311  INFO 7328 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:06:02.311  INFO 7328 --- [http-nio-8068-exec-5] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:06:02.311 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:06:02.311 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:06:02.311 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:06:02.311 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ad203b43: Principal: ru.logisticplatform.security.jwt.JwtUser@7b788900; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:06:02.311 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:06:02.312 DEBUG 7328 --- [http-nio-8068-exec-5] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34114276
2020-08-18 22:06:02.312 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:06:02.312 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:06:02.312 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:06:02.312 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:06:02.312 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:06:02.312 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:06:02.312 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ad203b43: Principal: ru.logisticplatform.security.jwt.JwtUser@7b788900; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:06:02.312 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:06:02.313 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:06:02.313 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:06:02.313 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:06:16.867  INFO 7328 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 22:06:16.868 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:06:16.868 DEBUG 7328 --- [http-nio-8068-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:06:16.868 DEBUG 7328 --- [http-nio-8068-exec-5] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:06:23.058 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:06:23.058 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:06:23.059 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:06:23.059 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:06:23.059 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:06:23.059 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/3'; against '/logout'
2020-08-18 22:06:23.059 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:06:23.059 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/3' doesn't match 'POST /logout'
2020-08-18 22:06:23.059 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:06:23.059 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/3' doesn't match 'PUT /logout'
2020-08-18 22:06:23.059 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:06:23.059 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/3' doesn't match 'DELETE /logout'
2020-08-18 22:06:23.059 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:06:23.059 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:06:23.065  INFO 7328 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:06:23.065  INFO 7328 --- [http-nio-8068-exec-4] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:06:23.065 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@afa40d3b: Principal: ru.logisticplatform.security.jwt.JwtUser@79fcbf78; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34114276
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/3'; against '/api/v1/sign/**'
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/3'; against '/api/v1/admins/**'
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/3'; against '/api/v1/customers/**'
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/3; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@afa40d3b: Principal: ru.logisticplatform.security.jwt.JwtUser@79fcbf78; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:06:23.066 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:06:32.043  INFO 7328 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: null found by userName: 3
2020-08-18 22:06:32.044 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:06:32.044 DEBUG 7328 --- [http-nio-8068-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:06:32.044 DEBUG 7328 --- [http-nio-8068-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:06:44.124 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:06:44.124 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:06:44.124 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:06:44.124 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:06:44.125 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:06:44.125 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/3'; against '/logout'
2020-08-18 22:06:44.125 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:06:44.125 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/3' doesn't match 'POST /logout'
2020-08-18 22:06:44.125 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:06:44.125 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/3' doesn't match 'PUT /logout'
2020-08-18 22:06:44.125 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:06:44.125 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/3' doesn't match 'DELETE /logout'
2020-08-18 22:06:44.125 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:06:44.125 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:06:44.131  INFO 7328 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:06:44.131  INFO 7328 --- [http-nio-8068-exec-7] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:06:44.131 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:06:44.131 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:06:44.131 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:06:44.131 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@87ddeea3: Principal: ru.logisticplatform.security.jwt.JwtUser@51855ce0; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:06:44.132 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:06:44.132 DEBUG 7328 --- [http-nio-8068-exec-7] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34114276
2020-08-18 22:06:44.132 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:06:44.132 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:06:44.132 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/3'; against '/api/v1/sign/**'
2020-08-18 22:06:44.132 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/3'; against '/api/v1/admins/**'
2020-08-18 22:06:44.132 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/3'; against '/api/v1/customers/**'
2020-08-18 22:06:44.132 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/3; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:06:44.132 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@87ddeea3: Principal: ru.logisticplatform.security.jwt.JwtUser@51855ce0; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:06:44.132 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:06:44.132 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:06:44.132 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:06:44.132 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/3 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:07:12.377  WARN 7328 --- [HikariPool-2 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=55s512ms751Âµs400ns).
2020-08-18 22:07:12.380  INFO 7328 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: null found by userName: 3
2020-08-18 22:07:12.381 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:07:12.382 DEBUG 7328 --- [http-nio-8068-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:07:12.382 DEBUG 7328 --- [http-nio-8068-exec-7] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:07:30.167 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:07:30.167 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:07:30.167 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:07:30.168 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:07:30.168 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:07:30.168 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:07:30.168 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:07:30.168 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:07:30.168 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:07:30.168 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:07:30.168 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:07:30.169 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:07:30.169 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:07:30.169 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:07:30.182  INFO 7328 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:07:30.182  INFO 7328 --- [http-nio-8068-exec-9] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:07:30.182 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:07:30.182 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:07:30.182 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:07:30.183 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d42970fc: Principal: ru.logisticplatform.security.jwt.JwtUser@271c2bf; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:07:30.183 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:07:30.183 DEBUG 7328 --- [http-nio-8068-exec-9] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34114276
2020-08-18 22:07:30.183 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:07:30.183 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:07:30.183 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:07:30.183 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:07:30.183 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:07:30.183 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:07:30.183 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d42970fc: Principal: ru.logisticplatform.security.jwt.JwtUser@271c2bf; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:07:30.184 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@28d391a9, returned: 1
2020-08-18 22:07:30.184 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:07:30.184 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:07:30.184 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:07:47.357  INFO 7328 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 22:08:24.305 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:08:24.305 DEBUG 7328 --- [http-nio-8068-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@767a3269
2020-08-18 22:08:24.305 DEBUG 7328 --- [http-nio-8068-exec-9] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:08:24.511  INFO 7328 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:08:24.514  INFO 7328 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-18 22:08:24.515  INFO 7328 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-18 22:08:24.523  INFO 7328 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-18 22:08:42.643  INFO 2704 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 2704 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-18 22:08:42.648  INFO 2704 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-18 22:08:43.738  INFO 2704 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-18 22:08:43.892  INFO 2704 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 141ms. Found 9 JPA repository interfaces.
2020-08-18 22:08:44.693  INFO 2704 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-18 22:08:44.704  INFO 2704 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-18 22:08:44.705  INFO 2704 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-18 22:08:44.880  INFO 2704 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-18 22:08:44.881  INFO 2704 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2168 ms
2020-08-18 22:08:45.039  INFO 2704 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-18 22:08:45.552  INFO 2704 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-18 22:08:47.396  INFO 2704 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 22:08:47.408  INFO 2704 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 22:08:47.412  INFO 2704 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-18 22:08:47.486  INFO 2704 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-18 22:08:50.703  INFO 2704 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-18 22:08:50.705  INFO 2704 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-18 22:08:50.706  INFO 2704 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-18 22:08:50.706  INFO 2704 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-18 22:08:50.836  INFO 2704 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-18 22:08:50.838  INFO 2704 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-18 22:08:50.856  INFO 2704 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-18 22:08:51.013  INFO 2704 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-18 22:08:51.025  INFO 2704 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-18 22:08:51.025  WARN 2704 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-18 22:08:51.044  INFO 2704 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-18 22:08:51.110  INFO 2704 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-18 22:08:51.183  WARN 2704 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-18 22:08:51.191  INFO 2704 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-18 22:08:51.423  INFO 2704 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-18 22:08:51.616  INFO 2704 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-18 22:08:51.799 DEBUG 2704 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@2823b7c5}
2020-08-18 22:08:51.904 DEBUG 2704 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-18 22:08:51.907 DEBUG 2704 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-18 22:08:52.145 DEBUG 2704 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-18 22:08:52.146 DEBUG 2704 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-18 22:08:52.153 DEBUG 2704 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 22:08:52.154 DEBUG 2704 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 22:08:52.156  INFO 2704 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21f94fe3, org.springframework.security.web.context.SecurityContextPersistenceFilter@4be1c797, org.springframework.security.web.header.HeaderWriterFilter@18d14de3, org.springframework.security.web.authentication.logout.LogoutFilter@669469c9, ru.logisticplatform.security.jwt.JwtTokenFilter@52ab003b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1248f83, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cfac0bd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1174e173, org.springframework.security.web.session.SessionManagementFilter@54f4734e, org.springframework.security.web.access.ExceptionTranslationFilter@2eafb4e7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4281a26f]
2020-08-18 22:08:52.224  INFO 2704 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-18 22:08:52.227  INFO 2704 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-18 22:08:52.913  INFO 2704 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-18 22:08:52.929  INFO 2704 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:08:53.615  INFO 2704 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-18 22:08:53.627  INFO 2704 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 11.889 seconds (JVM running for 12.98)
2020-08-18 22:08:57.880  INFO 2704 --- [http-nio-8068-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-18 22:08:57.880  INFO 2704 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-18 22:08:57.888  INFO 2704 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-08-18 22:08:57.902 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:08:57.903 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:08:57.906 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:08:57.908 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:08:57.908 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:08:57.908 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:08:57.908 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:08:57.909 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:08:57.909 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:08:57.909 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:08:57.909 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:08:57.909 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:08:57.909 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:08:57.909 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:08:58.218  INFO 2704 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:08:58.220  INFO 2704 --- [http-nio-8068-exec-1] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:08:58.221 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:08:58.221 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:08:58.222 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:08:58.222 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f549577d: Principal: ru.logisticplatform.security.jwt.JwtUser@2311e53e; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:08:58.222 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:08:58.223 DEBUG 2704 --- [http-nio-8068-exec-1] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@65234a9
2020-08-18 22:08:58.223 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:08:58.223 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:08:58.223 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:08:58.224 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:08:58.224 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:08:58.224 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:08:58.224 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f549577d: Principal: ru.logisticplatform.security.jwt.JwtUser@2311e53e; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:08:58.228 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7a507c85, returned: 1
2020-08-18 22:08:58.228 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:08:58.228 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:08:58.228 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:09:08.254  INFO 2704 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 22:09:14.947 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@64dd4a08
2020-08-18 22:09:14.953 DEBUG 2704 --- [http-nio-8068-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:09:14.954 DEBUG 2704 --- [http-nio-8068-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:09:29.459 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor444 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:09:29.460 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor444 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:09:29.460 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor444 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:09:29.460 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor444 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:09:29.460 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:09:29.460 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor444'; against '/logout'
2020-08-18 22:09:29.460 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:09:29.460 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor444' doesn't match 'POST /logout'
2020-08-18 22:09:29.460 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:09:29.461 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor444' doesn't match 'PUT /logout'
2020-08-18 22:09:29.461 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:09:29.461 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor444' doesn't match 'DELETE /logout'
2020-08-18 22:09:29.461 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:09:29.461 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor444 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:09:29.469  INFO 2704 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:09:29.470  INFO 2704 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:09:29.470 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor444 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:09:29.470 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor444 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:09:29.470 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor444 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:09:29.470 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b4ac6463: Principal: ru.logisticplatform.security.jwt.JwtUser@62f4d620; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:09:29.470 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor444 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:09:29.470 DEBUG 2704 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@65234a9
2020-08-18 22:09:29.470 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor444 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:09:29.471 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor444 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:09:29.471 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor444'; against '/api/v1/sign/**'
2020-08-18 22:09:29.471 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor444'; against '/api/v1/admins/**'
2020-08-18 22:09:29.471 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor444'; against '/api/v1/customers/**'
2020-08-18 22:09:29.471 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor444; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:09:29.471 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b4ac6463: Principal: ru.logisticplatform.security.jwt.JwtUser@62f4d620; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:09:29.473 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7a507c85, returned: 1
2020-08-18 22:09:29.473 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:09:29.473 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:09:29.473 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor444 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:09:34.732  INFO 2704 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: null found by userName: contractor444
2020-08-18 22:09:34.733 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:09:34.733 DEBUG 2704 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@64dd4a08
2020-08-18 22:09:34.734 DEBUG 2704 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:09:42.985 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:09:42.985 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:09:42.985 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:09:42.986 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:09:42.986 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:09:42.986 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/admin'; against '/logout'
2020-08-18 22:09:42.986 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:09:42.986 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/admin' doesn't match 'POST /logout'
2020-08-18 22:09:42.986 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:09:42.986 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/admin' doesn't match 'PUT /logout'
2020-08-18 22:09:42.986 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:09:42.986 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/admin' doesn't match 'DELETE /logout'
2020-08-18 22:09:42.986 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:09:42.986 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:09:42.992  INFO 2704 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:09:42.992  INFO 2704 --- [http-nio-8068-exec-4] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:09:42.992 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:09:42.993 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:09:42.993 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:09:42.993 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f5774b81: Principal: ru.logisticplatform.security.jwt.JwtUser@232ff9c2; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:09:42.993 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:09:42.993 DEBUG 2704 --- [http-nio-8068-exec-4] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@65234a9
2020-08-18 22:09:42.993 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:09:42.993 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:09:42.993 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/admin'; against '/api/v1/sign/**'
2020-08-18 22:09:42.993 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/admin'; against '/api/v1/admins/**'
2020-08-18 22:09:42.993 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/admin'; against '/api/v1/customers/**'
2020-08-18 22:09:42.993 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/admin; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:09:42.994 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f5774b81: Principal: ru.logisticplatform.security.jwt.JwtUser@232ff9c2; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:09:42.994 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7a507c85, returned: 1
2020-08-18 22:09:42.994 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:09:42.994 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:09:42.994 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin reached end of additional filter chain; proceeding with original chain
2020-08-18 22:09:42.999  INFO 2704 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 2, name: ROLE_CONTRACTOR}, Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: admin
2020-08-18 22:09:43.001 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@64dd4a08
2020-08-18 22:09:43.002 DEBUG 2704 --- [http-nio-8068-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:09:43.002 DEBUG 2704 --- [http-nio-8068-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:10:00.793 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:10:00.794 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:10:00.794 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:10:00.794 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:10:00.794 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:10:00.794 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer3'; against '/logout'
2020-08-18 22:10:00.794 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:10:00.794 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer3' doesn't match 'POST /logout'
2020-08-18 22:10:00.794 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:10:00.795 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer3' doesn't match 'PUT /logout'
2020-08-18 22:10:00.795 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:10:00.795 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer3' doesn't match 'DELETE /logout'
2020-08-18 22:10:00.795 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:10:00.795 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:10:00.802  INFO 2704 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:10:00.802  INFO 2704 --- [http-nio-8068-exec-5] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:10:00.802 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:10:00.802 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:10:00.802 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:10:00.802 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fb9bc64f: Principal: ru.logisticplatform.security.jwt.JwtUser@2dc3740c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:10:00.802 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:10:00.802 DEBUG 2704 --- [http-nio-8068-exec-5] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@65234a9
2020-08-18 22:10:00.802 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:10:00.803 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:10:00.803 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer3'; against '/api/v1/sign/**'
2020-08-18 22:10:00.803 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer3'; against '/api/v1/admins/**'
2020-08-18 22:10:00.803 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer3'; against '/api/v1/customers/**'
2020-08-18 22:10:00.803 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/customer3; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:10:00.803 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@fb9bc64f: Principal: ru.logisticplatform.security.jwt.JwtUser@2dc3740c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:10:00.803 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7a507c85, returned: 1
2020-08-18 22:10:00.803 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:10:00.803 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:10:00.803 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:10:00.809  INFO 2704 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:10:00.811 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@64dd4a08
2020-08-18 22:10:00.812 DEBUG 2704 --- [http-nio-8068-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:10:00.812 DEBUG 2704 --- [http-nio-8068-exec-5] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:10:50.885 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:10:50.886 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:10:50.886 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:10:50.886 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:10:50.886 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:10:50.886 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/logout'
2020-08-18 22:10:50.886 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:10:50.886 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'POST /logout'
2020-08-18 22:10:50.886 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:10:50.886 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'PUT /logout'
2020-08-18 22:10:50.886 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:10:50.887 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'DELETE /logout'
2020-08-18 22:10:50.887 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:10:50.887 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:10:50.893  INFO 2704 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:10:50.893  INFO 2704 --- [http-nio-8068-exec-6] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:10:50.893 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:10:50.893 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:10:50.894 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:10:50.894 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9548edcb: Principal: ru.logisticplatform.security.jwt.JwtUser@43105f88; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:10:50.894 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:10:50.894 DEBUG 2704 --- [http-nio-8068-exec-6] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@65234a9
2020-08-18 22:10:50.894 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:10:50.894 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:10:50.894 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/sign/**'
2020-08-18 22:10:50.894 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/admins/**'
2020-08-18 22:10:50.894 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/customers/**'
2020-08-18 22:10:50.894 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/customer4; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:10:50.894 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9548edcb: Principal: ru.logisticplatform.security.jwt.JwtUser@43105f88; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:10:50.895 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7a507c85, returned: 1
2020-08-18 22:10:50.895 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:10:50.895 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:10:50.895 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:10:50.899  INFO 2704 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-18 22:10:50.900 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@64dd4a08
2020-08-18 22:10:50.901 DEBUG 2704 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:10:50.902 DEBUG 2704 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:11:13.891 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:11:13.892 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:11:13.892 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:11:13.892 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:11:13.892 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:11:13.892 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/logout'
2020-08-18 22:11:13.892 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:11:13.892 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'POST /logout'
2020-08-18 22:11:13.893 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:11:13.893 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'PUT /logout'
2020-08-18 22:11:13.893 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:11:13.893 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'DELETE /logout'
2020-08-18 22:11:13.893 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:11:13.893 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:11:13.902  INFO 2704 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:11:13.902  INFO 2704 --- [http-nio-8068-exec-7] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:11:13.903 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:11:13.903 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:11:13.903 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:11:13.903 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f11bdd49: Principal: ru.logisticplatform.security.jwt.JwtUser@27436f0a; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:11:13.903 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:11:13.903 DEBUG 2704 --- [http-nio-8068-exec-7] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@65234a9
2020-08-18 22:11:13.903 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:11:13.904 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:11:13.904 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/sign/**'
2020-08-18 22:11:13.904 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/admins/**'
2020-08-18 22:11:13.904 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/customers/**'
2020-08-18 22:11:13.904 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/customer4; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:11:13.904 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f11bdd49: Principal: ru.logisticplatform.security.jwt.JwtUser@27436f0a; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:11:13.905 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7a507c85, returned: 1
2020-08-18 22:11:13.905 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:11:13.905 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:11:13.905 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:11:13.913  INFO 2704 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-18 22:11:43.153  WARN 2704 --- [HikariPool-2 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=52s1ms34Âµs200ns).
2020-08-18 22:15:35.724 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@64dd4a08
2020-08-18 22:15:35.726 DEBUG 2704 --- [http-nio-8068-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:15:35.726 DEBUG 2704 --- [http-nio-8068-exec-7] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:15:35.942  INFO 2704 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:15:35.945  INFO 2704 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-18 22:15:35.946  INFO 2704 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-18 22:15:35.956  INFO 2704 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-18 22:15:47.298  INFO 12160 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 12160 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-18 22:15:47.303  INFO 12160 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-18 22:15:48.359  INFO 12160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-18 22:15:48.553  INFO 12160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 175ms. Found 9 JPA repository interfaces.
2020-08-18 22:15:49.307  INFO 12160 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-18 22:15:49.327  INFO 12160 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-18 22:15:49.327  INFO 12160 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-18 22:15:49.551  INFO 12160 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-18 22:15:49.552  INFO 12160 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2190 ms
2020-08-18 22:15:49.710  INFO 12160 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-18 22:15:50.260  INFO 12160 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-18 22:15:52.056  INFO 12160 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 22:15:52.065  INFO 12160 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 22:15:52.068  INFO 12160 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-18 22:15:52.143  INFO 12160 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-18 22:15:55.669  INFO 12160 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-18 22:15:55.671  INFO 12160 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-18 22:15:55.672  INFO 12160 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-18 22:15:55.673  INFO 12160 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-18 22:15:55.826  INFO 12160 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-18 22:15:55.827  INFO 12160 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-18 22:15:55.838  INFO 12160 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-18 22:15:55.935  INFO 12160 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-18 22:15:55.946  INFO 12160 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-18 22:15:55.946  WARN 12160 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-18 22:15:55.965  INFO 12160 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-18 22:15:56.030  INFO 12160 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-18 22:15:56.093  WARN 12160 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-18 22:15:56.104  INFO 12160 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-18 22:15:56.311  INFO 12160 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-18 22:15:56.475  INFO 12160 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-18 22:15:56.631 DEBUG 12160 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@4172c967}
2020-08-18 22:15:56.735 DEBUG 12160 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-18 22:15:56.738 DEBUG 12160 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-18 22:15:56.739 DEBUG 12160 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-18 22:15:56.739 DEBUG 12160 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-18 22:15:56.746 DEBUG 12160 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 22:15:56.747 DEBUG 12160 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 22:15:56.750  INFO 12160 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1784a296, org.springframework.security.web.context.SecurityContextPersistenceFilter@a319a2e, org.springframework.security.web.header.HeaderWriterFilter@5b78a946, org.springframework.security.web.authentication.logout.LogoutFilter@63c88994, ru.logisticplatform.security.jwt.JwtTokenFilter@49ea4b65, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54fffa5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f86f7da, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4af6839c, org.springframework.security.web.session.SessionManagementFilter@2c7aba7c, org.springframework.security.web.access.ExceptionTranslationFilter@2b5a04b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7d5cbcc9]
2020-08-18 22:15:57.050  INFO 12160 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-18 22:15:57.053  INFO 12160 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-18 22:15:57.837  INFO 12160 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-18 22:15:57.848  INFO 12160 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:15:58.427  INFO 12160 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-18 22:15:58.439  INFO 12160 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 12.055 seconds (JVM running for 13.173)
2020-08-18 22:16:16.147  INFO 12160 --- [http-nio-8068-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-18 22:16:16.147  INFO 12160 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-18 22:16:16.155  INFO 12160 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-08-18 22:16:16.169 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:16:16.170 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:16:16.173 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:16:16.175 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:16:16.175 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:16:16.176 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/logout'
2020-08-18 22:16:16.176 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:16:16.176 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'POST /logout'
2020-08-18 22:16:16.176 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:16:16.176 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'PUT /logout'
2020-08-18 22:16:16.176 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:16:16.176 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'DELETE /logout'
2020-08-18 22:16:16.176 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:16:16.176 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:16:16.457  INFO 12160 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:16:16.459  INFO 12160 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:16:16.460 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:16:16.460 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:16:16.462 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:16:16.462 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c32dc830: Principal: ru.logisticplatform.security.jwt.JwtUser@15757a73; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:16:16.462 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:16:16.462 DEBUG 12160 --- [http-nio-8068-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@42db3ff
2020-08-18 22:16:16.463 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:16:16.463 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:16:16.463 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/sign/**'
2020-08-18 22:16:16.463 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/admins/**'
2020-08-18 22:16:16.464 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/customers/**'
2020-08-18 22:16:16.464 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/customer4; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:16:16.464 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c32dc830: Principal: ru.logisticplatform.security.jwt.JwtUser@15757a73; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:16:16.469 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2b7fb755, returned: 1
2020-08-18 22:16:16.469 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:16:16.469 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:16:16.469 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:16:16.505  INFO 12160 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-18 22:17:12.487 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@464ba842
2020-08-18 22:17:12.496 DEBUG 12160 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:17:12.497 DEBUG 12160 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:18:25.048 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:18:25.049 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:18:25.049 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:18:25.049 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:18:25.049 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:18:25.049 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:18:25.049 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:18:25.049 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:18:25.050 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:18:25.050 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:18:25.050 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:18:25.050 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:18:25.050 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:18:25.050 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:18:25.057  INFO 12160 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:18:25.057  INFO 12160 --- [http-nio-8068-exec-5] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:18:25.057 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:18:25.057 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:18:25.057 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:18:25.057 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@dca8f8c3: Principal: ru.logisticplatform.security.jwt.JwtUser@af04a80; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:18:25.058 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:18:25.058 DEBUG 12160 --- [http-nio-8068-exec-5] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@42db3ff
2020-08-18 22:18:25.058 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:18:25.058 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:18:25.058 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:18:25.058 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:18:25.058 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:18:25.058 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:18:25.058 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@dca8f8c3: Principal: ru.logisticplatform.security.jwt.JwtUser@af04a80; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:18:25.059 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2b7fb755, returned: 1
2020-08-18 22:18:25.060 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:18:25.060 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:18:25.060 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:18:25.066  INFO 12160 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 22:19:08.688  WARN 12160 --- [HikariPool-2 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=56s396ms189Âµs100ns).
2020-08-18 22:19:08.690 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@464ba842
2020-08-18 22:19:08.692 DEBUG 12160 --- [http-nio-8068-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:19:08.693 DEBUG 12160 --- [http-nio-8068-exec-5] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:19:08.942  INFO 12160 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:19:08.945  INFO 12160 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-18 22:19:08.945  INFO 12160 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-18 22:19:08.956  INFO 12160 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-18 22:21:45.100  INFO 8464 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 8464 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-18 22:21:45.105  INFO 8464 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-18 22:21:46.362  INFO 8464 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-18 22:21:46.563  INFO 8464 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 183ms. Found 9 JPA repository interfaces.
2020-08-18 22:21:47.434  INFO 8464 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-18 22:21:47.454  INFO 8464 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-18 22:21:47.454  INFO 8464 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-18 22:21:47.657  INFO 8464 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-18 22:21:47.658  INFO 8464 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2479 ms
2020-08-18 22:21:47.884  INFO 8464 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-18 22:21:48.442  INFO 8464 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-18 22:21:50.175  INFO 8464 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 22:21:50.182  INFO 8464 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 22:21:50.185  INFO 8464 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-18 22:21:50.250  INFO 8464 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-18 22:21:53.523  INFO 8464 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-18 22:21:53.525  INFO 8464 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-18 22:21:53.526  INFO 8464 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-18 22:21:53.526  INFO 8464 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-18 22:21:53.725  INFO 8464 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-18 22:21:53.727  INFO 8464 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-18 22:21:53.779  INFO 8464 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-18 22:21:53.915  INFO 8464 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-18 22:21:53.932  INFO 8464 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-18 22:21:53.932  WARN 8464 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-18 22:21:53.954  INFO 8464 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-18 22:21:54.024  INFO 8464 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-18 22:21:54.088  WARN 8464 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-18 22:21:54.095  INFO 8464 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-18 22:21:54.302  INFO 8464 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-18 22:21:54.470  INFO 8464 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-18 22:21:54.625 DEBUG 8464 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@4172c967}
2020-08-18 22:21:54.732 DEBUG 8464 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-18 22:21:54.735 DEBUG 8464 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-18 22:21:54.736 DEBUG 8464 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-18 22:21:54.736 DEBUG 8464 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-18 22:21:54.742 DEBUG 8464 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 22:21:54.744 DEBUG 8464 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 22:21:54.746  INFO 8464 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1784a296, org.springframework.security.web.context.SecurityContextPersistenceFilter@a319a2e, org.springframework.security.web.header.HeaderWriterFilter@5b78a946, org.springframework.security.web.authentication.logout.LogoutFilter@63c88994, ru.logisticplatform.security.jwt.JwtTokenFilter@49ea4b65, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54fffa5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f86f7da, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4af6839c, org.springframework.security.web.session.SessionManagementFilter@2c7aba7c, org.springframework.security.web.access.ExceptionTranslationFilter@2b5a04b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7d5cbcc9]
2020-08-18 22:21:55.037  INFO 8464 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-18 22:21:55.040  INFO 8464 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-18 22:21:55.743  INFO 8464 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-18 22:21:55.755  INFO 8464 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:21:56.399  INFO 8464 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-18 22:21:56.418  INFO 8464 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 12.172 seconds (JVM running for 13.255)
2020-08-18 22:22:02.690  INFO 8464 --- [http-nio-8068-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-18 22:22:02.690  INFO 8464 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-18 22:22:02.698  INFO 8464 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-08-18 22:22:02.712 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:22:02.714 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:22:02.716 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:22:02.718 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:22:02.718 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:22:02.718 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:22:02.719 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:22:02.719 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:22:02.719 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:22:02.719 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:22:02.719 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:22:02.719 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:22:02.719 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:22:02.719 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:22:02.991  INFO 8464 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:22:02.993  INFO 8464 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:22:02.994 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:22:02.994 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:22:02.996 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:22:02.997 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9db5deed: Principal: ru.logisticplatform.security.jwt.JwtUser@4bed6cae; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:22:02.997 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:22:02.997 DEBUG 8464 --- [http-nio-8068-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@42db3ff
2020-08-18 22:22:02.997 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:22:02.997 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:22:02.998 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:22:02.998 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:22:02.998 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:22:02.999 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:22:02.999 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9db5deed: Principal: ru.logisticplatform.security.jwt.JwtUser@4bed6cae; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:22:03.003 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@361131a0, returned: 1
2020-08-18 22:22:03.003 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:22:03.004 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:22:03.004 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:22:03.043  INFO 8464 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 22:22:51.787  WARN 8464 --- [HikariPool-2 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=57s732ms455Âµs400ns).
2020-08-18 22:24:10.356  WARN 8464 --- [HikariPool-2 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=1m18s568ms623Âµs300ns).
2020-08-18 22:24:10.501 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@23cc8c3
2020-08-18 22:24:10.508 DEBUG 8464 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:24:10.508 DEBUG 8464 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:24:13.813 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:24:13.813 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:24:13.813 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:24:13.813 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:24:13.813 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:24:13.813 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:24:13.814 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:24:13.814 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:24:13.814 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:24:13.814 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:24:13.814 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:24:13.814 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:24:13.814 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:24:13.814 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:24:13.821  INFO 8464 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:24:13.821  INFO 8464 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:24:13.821 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:24:13.821 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:24:13.821 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:24:13.821 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ba72e757: Principal: ru.logisticplatform.security.jwt.JwtUser@6c2a5514; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:24:13.821 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:24:13.822 DEBUG 8464 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@42db3ff
2020-08-18 22:24:13.822 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:24:13.822 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:24:13.822 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:24:13.822 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:24:13.822 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:24:13.822 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:24:13.822 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ba72e757: Principal: ru.logisticplatform.security.jwt.JwtUser@6c2a5514; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:24:13.823 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@361131a0, returned: 1
2020-08-18 22:24:13.824 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:24:13.824 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:24:13.824 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:24:13.828  INFO 8464 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 22:24:24.986 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@23cc8c3
2020-08-18 22:24:24.988 DEBUG 8464 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:24:24.988 DEBUG 8464 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:24:25.225  INFO 8464 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:24:25.228  INFO 8464 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-18 22:24:25.229  INFO 8464 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-18 22:24:25.242  INFO 8464 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-18 22:24:41.953  INFO 14704 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 14704 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-18 22:24:41.958  INFO 14704 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-18 22:24:43.189  INFO 14704 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-18 22:24:43.352  INFO 14704 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 151ms. Found 9 JPA repository interfaces.
2020-08-18 22:24:44.061  INFO 14704 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-18 22:24:44.073  INFO 14704 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-18 22:24:44.074  INFO 14704 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-18 22:24:44.273  INFO 14704 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-18 22:24:44.273  INFO 14704 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2249 ms
2020-08-18 22:24:44.510  INFO 14704 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-18 22:24:45.166  INFO 14704 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-18 22:24:46.947  INFO 14704 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 22:24:46.956  INFO 14704 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 22:24:46.960  INFO 14704 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-18 22:24:47.029  INFO 14704 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-18 22:24:50.336  INFO 14704 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-18 22:24:50.338  INFO 14704 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-18 22:24:50.340  INFO 14704 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-18 22:24:50.341  INFO 14704 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-18 22:24:50.471  INFO 14704 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-18 22:24:50.472  INFO 14704 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-18 22:24:50.491  INFO 14704 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-18 22:24:50.643  INFO 14704 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-18 22:24:50.653  INFO 14704 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-18 22:24:50.654  WARN 14704 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-18 22:24:50.673  INFO 14704 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-18 22:24:50.731  INFO 14704 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-18 22:24:50.786  WARN 14704 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-18 22:24:50.798  INFO 14704 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-18 22:24:51.009  INFO 14704 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-18 22:24:51.174  INFO 14704 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-18 22:24:51.324 DEBUG 14704 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@76c85485}
2020-08-18 22:24:51.435 DEBUG 14704 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-18 22:24:51.438 DEBUG 14704 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-18 22:24:51.439 DEBUG 14704 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-18 22:24:51.439 DEBUG 14704 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-18 22:24:51.446 DEBUG 14704 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 22:24:51.447 DEBUG 14704 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 22:24:51.450  INFO 14704 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ba815ee, org.springframework.security.web.context.SecurityContextPersistenceFilter@52b49891, org.springframework.security.web.header.HeaderWriterFilter@63614cdd, org.springframework.security.web.authentication.logout.LogoutFilter@7866a7a6, ru.logisticplatform.security.jwt.JwtTokenFilter@2fbd47b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7940b729, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10abd94f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ecd2aa4, org.springframework.security.web.session.SessionManagementFilter@1932ad2c, org.springframework.security.web.access.ExceptionTranslationFilter@4244e477, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@148f94dc]
2020-08-18 22:24:51.755  INFO 14704 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-18 22:24:51.759  INFO 14704 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-18 22:24:52.500  INFO 14704 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-18 22:24:52.512  INFO 14704 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:24:53.070  INFO 14704 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-18 22:24:53.082  INFO 14704 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 12.225 seconds (JVM running for 13.327)
2020-08-18 22:24:57.782  INFO 14704 --- [http-nio-8068-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-18 22:24:57.782  INFO 14704 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-18 22:24:57.790  INFO 14704 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-08-18 22:24:57.805 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:24:57.806 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:24:57.809 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:24:57.811 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:24:57.811 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:24:57.811 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:24:57.811 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:24:57.811 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:24:57.811 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:24:57.812 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:24:57.812 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:24:57.812 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:24:57.812 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:24:57.812 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:24:58.114  INFO 14704 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:24:58.116  INFO 14704 --- [http-nio-8068-exec-1] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:24:58.118 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:24:58.118 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:24:58.120 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:24:58.120 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a97d9289: Principal: ru.logisticplatform.security.jwt.JwtUser@7f2520ca; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:24:58.120 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:24:58.121 DEBUG 14704 --- [http-nio-8068-exec-1] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4ee19768
2020-08-18 22:24:58.121 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:24:58.121 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:24:58.122 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:24:58.122 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:24:58.122 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:24:58.122 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:24:58.122 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a97d9289: Principal: ru.logisticplatform.security.jwt.JwtUser@7f2520ca; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:24:58.127 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@780c21ff, returned: 1
2020-08-18 22:24:58.127 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:24:58.127 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:24:58.127 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:24:58.164  INFO 14704 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 22:26:01.674  WARN 14704 --- [HikariPool-2 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=1m10s898ms777Âµs500ns).
2020-08-18 22:26:01.841 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@778ca893
2020-08-18 22:26:01.849 DEBUG 14704 --- [http-nio-8068-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:26:01.850 DEBUG 14704 --- [http-nio-8068-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:26:01.880  INFO 14704 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:26:01.883  INFO 14704 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-18 22:26:01.884  INFO 14704 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-18 22:26:01.895  INFO 14704 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-18 22:31:44.364  INFO 5440 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 5440 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-18 22:31:44.368  INFO 5440 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-18 22:31:45.534  INFO 5440 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-18 22:31:45.698  INFO 5440 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 149ms. Found 9 JPA repository interfaces.
2020-08-18 22:31:46.433  INFO 5440 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-18 22:31:46.448  INFO 5440 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-18 22:31:46.449  INFO 5440 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-18 22:31:46.731  INFO 5440 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-18 22:31:46.731  INFO 5440 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2295 ms
2020-08-18 22:31:46.930  INFO 5440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-18 22:31:47.506  INFO 5440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-18 22:31:49.327  INFO 5440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 22:31:49.335  INFO 5440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 22:31:49.338  INFO 5440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-18 22:31:49.402  INFO 5440 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-18 22:31:52.444  INFO 5440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-18 22:31:52.446  INFO 5440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-18 22:31:52.447  INFO 5440 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-18 22:31:52.448  INFO 5440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-18 22:31:52.583  INFO 5440 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-18 22:31:52.585  INFO 5440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-18 22:31:52.603  INFO 5440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-18 22:31:52.759  INFO 5440 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-18 22:31:52.769  INFO 5440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-18 22:31:52.769  WARN 5440 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-18 22:31:52.788  INFO 5440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-18 22:31:52.845  INFO 5440 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-18 22:31:52.901  WARN 5440 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-18 22:31:52.913  INFO 5440 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-18 22:31:53.135  INFO 5440 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-18 22:31:53.301  INFO 5440 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-18 22:31:53.447 DEBUG 5440 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@3f2a7ca0}
2020-08-18 22:31:53.557 DEBUG 5440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-18 22:31:53.560 DEBUG 5440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-18 22:31:53.561 DEBUG 5440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-18 22:31:53.562 DEBUG 5440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-18 22:31:53.568 DEBUG 5440 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 22:31:53.570 DEBUG 5440 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 22:31:53.782  INFO 5440 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4425b6ed, org.springframework.security.web.context.SecurityContextPersistenceFilter@59cb10e0, org.springframework.security.web.header.HeaderWriterFilter@29ce33e9, org.springframework.security.web.authentication.logout.LogoutFilter@526f8cb0, ru.logisticplatform.security.jwt.JwtTokenFilter@702432cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2dfab167, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52b49891, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5039c2cf, org.springframework.security.web.session.SessionManagementFilter@7b9d602c, org.springframework.security.web.access.ExceptionTranslationFilter@2082e0e4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3fe11091]
2020-08-18 22:31:53.849  INFO 5440 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-18 22:31:53.852  INFO 5440 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-18 22:31:54.687  INFO 5440 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-18 22:31:54.707  INFO 5440 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:31:55.386  INFO 5440 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-18 22:31:55.400  INFO 5440 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 11.915 seconds (JVM running for 13.008)
2020-08-18 22:32:07.069  INFO 5440 --- [http-nio-8068-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-18 22:32:07.069  INFO 5440 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-18 22:32:07.078  INFO 5440 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2020-08-18 22:32:07.093 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:32:07.094 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:32:07.097 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:32:07.099 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:32:07.100 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:32:07.100 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:32:07.100 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:32:07.100 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:32:07.100 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:32:07.100 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:32:07.100 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:32:07.100 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:32:07.100 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:32:07.101 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:32:07.398  INFO 5440 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:32:07.401  INFO 5440 --- [http-nio-8068-exec-1] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:32:07.403 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:32:07.403 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:32:07.405 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:32:07.405 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e4ec24f0: Principal: ru.logisticplatform.security.jwt.JwtUser@32b496b3; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:32:07.405 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:32:07.406 DEBUG 5440 --- [http-nio-8068-exec-1] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5a941fb4
2020-08-18 22:32:07.406 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:32:07.406 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:32:07.407 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:32:07.407 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:32:07.407 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:32:07.407 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:32:07.408 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e4ec24f0: Principal: ru.logisticplatform.security.jwt.JwtUser@32b496b3; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:32:07.415 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@291c69e1, returned: 1
2020-08-18 22:32:07.415 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:32:07.416 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:32:07.416 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:32:07.465  INFO 5440 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 22:32:40.533  WARN 5440 --- [HikariPool-2 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=47s644ms97Âµs600ns).
2020-08-18 22:32:40.670 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6eb1f4c1
2020-08-18 22:32:40.677 DEBUG 5440 --- [http-nio-8068-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:32:40.678 DEBUG 5440 --- [http-nio-8068-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:32:56.259 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:32:56.260 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:32:56.260 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:32:56.260 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:32:56.260 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:32:56.260 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/logout'
2020-08-18 22:32:56.260 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:32:56.261 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'POST /logout'
2020-08-18 22:32:56.261 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:32:56.261 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'PUT /logout'
2020-08-18 22:32:56.261 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:32:56.261 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'DELETE /logout'
2020-08-18 22:32:56.261 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:32:56.261 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:32:56.269  INFO 5440 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:32:56.269  INFO 5440 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:32:56.270 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:32:56.270 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:32:56.270 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:32:56.270 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9118838e: Principal: ru.logisticplatform.security.jwt.JwtUser@474031cd; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:32:56.270 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:32:56.270 DEBUG 5440 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5a941fb4
2020-08-18 22:32:56.270 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:32:56.271 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:32:56.271 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/sign/**'
2020-08-18 22:32:56.271 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/admins/**'
2020-08-18 22:32:56.271 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/customers/**'
2020-08-18 22:32:56.271 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/customer4; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:32:56.271 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9118838e: Principal: ru.logisticplatform.security.jwt.JwtUser@474031cd; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:32:56.272 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@291c69e1, returned: 1
2020-08-18 22:32:56.273 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:32:56.273 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:32:56.273 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:32:56.278  INFO 5440 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-18 22:33:12.627 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6eb1f4c1
2020-08-18 22:33:12.629 DEBUG 5440 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:33:12.629 DEBUG 5440 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:33:12.881  INFO 5440 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:33:12.890  INFO 5440 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-18 22:33:12.890  INFO 5440 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-18 22:33:12.909  INFO 5440 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-18 22:40:01.022  INFO 9680 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 9680 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-18 22:40:01.027  INFO 9680 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-18 22:40:02.013  INFO 9680 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-18 22:40:02.163  INFO 9680 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 137ms. Found 9 JPA repository interfaces.
2020-08-18 22:40:02.855  INFO 9680 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-18 22:40:02.866  INFO 9680 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-18 22:40:02.867  INFO 9680 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-18 22:40:03.081  INFO 9680 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-18 22:40:03.081  INFO 9680 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1997 ms
2020-08-18 22:40:03.290  INFO 9680 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-18 22:40:03.869  INFO 9680 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-18 22:40:05.539  INFO 9680 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 22:40:05.546  INFO 9680 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 22:40:05.549  INFO 9680 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-18 22:40:05.615  INFO 9680 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-18 22:40:09.101  INFO 9680 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-18 22:40:09.102  INFO 9680 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-18 22:40:09.104  INFO 9680 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-18 22:40:09.104  INFO 9680 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-18 22:40:09.232  INFO 9680 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-18 22:40:09.234  INFO 9680 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-18 22:40:09.290  INFO 9680 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-18 22:40:09.393  INFO 9680 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-18 22:40:09.405  INFO 9680 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-18 22:40:09.405  WARN 9680 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-18 22:40:09.423  INFO 9680 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-18 22:40:09.482  INFO 9680 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-18 22:40:09.548  WARN 9680 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-18 22:40:09.550  INFO 9680 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-18 22:40:09.751  INFO 9680 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-18 22:40:09.921  INFO 9680 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-18 22:40:10.076 DEBUG 9680 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@1bbfd42f}
2020-08-18 22:40:10.183 DEBUG 9680 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-18 22:40:10.186 DEBUG 9680 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-18 22:40:10.187 DEBUG 9680 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-18 22:40:10.187 DEBUG 9680 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-18 22:40:10.194 DEBUG 9680 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 22:40:10.195 DEBUG 9680 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 22:40:10.198  INFO 9680 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@200e6029, org.springframework.security.web.context.SecurityContextPersistenceFilter@496e0f9d, org.springframework.security.web.header.HeaderWriterFilter@3d195d15, org.springframework.security.web.authentication.logout.LogoutFilter@4fc8163, ru.logisticplatform.security.jwt.JwtTokenFilter@41120e48, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63c163e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57fae911, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@165a5979, org.springframework.security.web.session.SessionManagementFilter@68fc1e7f, org.springframework.security.web.access.ExceptionTranslationFilter@360d3f47, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d399e88]
2020-08-18 22:40:10.499  INFO 9680 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-18 22:40:10.502  INFO 9680 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-18 22:40:11.330  INFO 9680 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-18 22:40:11.346  INFO 9680 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:40:11.942  INFO 9680 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-18 22:40:11.953  INFO 9680 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 11.812 seconds (JVM running for 13.049)
2020-08-18 22:40:22.128  INFO 9680 --- [http-nio-8068-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-18 22:40:22.128  INFO 9680 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-18 22:40:22.136  INFO 9680 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-08-18 22:40:22.151 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:40:22.152 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:40:22.155 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:40:22.156 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:40:22.157 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:40:22.157 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/logout'
2020-08-18 22:40:22.157 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:40:22.157 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'POST /logout'
2020-08-18 22:40:22.157 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:40:22.157 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'PUT /logout'
2020-08-18 22:40:22.157 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:40:22.157 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer4' doesn't match 'DELETE /logout'
2020-08-18 22:40:22.158 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:40:22.158 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:40:22.435  INFO 9680 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:40:22.437  INFO 9680 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:40:22.438 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:40:22.438 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:40:22.439 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:40:22.440 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e98fa2e0: Principal: ru.logisticplatform.security.jwt.JwtUser@3fd710a3; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:40:22.440 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:40:22.440 DEBUG 9680 --- [http-nio-8068-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2b18b308
2020-08-18 22:40:22.440 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:40:22.440 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:40:22.441 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/sign/**'
2020-08-18 22:40:22.441 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/admins/**'
2020-08-18 22:40:22.441 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer4'; against '/api/v1/customers/**'
2020-08-18 22:40:22.442 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/customer4; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:40:22.442 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e98fa2e0: Principal: ru.logisticplatform.security.jwt.JwtUser@3fd710a3; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:40:22.446 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@295d89c7, returned: 1
2020-08-18 22:40:22.446 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:40:22.446 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:40:22.446 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer4 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:40:22.480  INFO 9680 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-18 22:40:22.539 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:40:22.539 DEBUG 9680 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1be4d624
2020-08-18 22:40:22.539 DEBUG 9680 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:40:45.741 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:40:45.742 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:40:45.742 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:40:45.742 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:40:45.742 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:40:45.743 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:40:45.743 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:40:45.743 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:40:45.743 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:40:45.743 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:40:45.743 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:40:45.743 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:40:45.743 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:40:45.744 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:40:45.753  INFO 9680 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:40:45.753  INFO 9680 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:40:45.753 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:40:45.753 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:40:45.753 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:40:45.753 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d5867503: Principal: ru.logisticplatform.security.jwt.JwtUser@3dec740; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:40:45.754 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:40:45.754 DEBUG 9680 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2b18b308
2020-08-18 22:40:45.754 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:40:45.754 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:40:45.754 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:40:45.754 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:40:45.754 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:40:45.755 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:40:45.755 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d5867503: Principal: ru.logisticplatform.security.jwt.JwtUser@3dec740; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:40:45.756 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@295d89c7, returned: 1
2020-08-18 22:40:45.756 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:40:45.756 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:40:45.756 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:40:45.763  INFO 9680 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 22:40:45.866 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1be4d624
2020-08-18 22:40:45.868 DEBUG 9680 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:40:45.868 DEBUG 9680 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:40:53.509 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:40:53.509 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:40:53.509 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:40:53.509 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:40:53.509 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:40:53.509 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/admin'; against '/logout'
2020-08-18 22:40:53.509 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:40:53.509 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/admin' doesn't match 'POST /logout'
2020-08-18 22:40:53.510 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:40:53.510 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/admin' doesn't match 'PUT /logout'
2020-08-18 22:40:53.510 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:40:53.510 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/admin' doesn't match 'DELETE /logout'
2020-08-18 22:40:53.510 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:40:53.510 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:40:53.516  INFO 9680 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:40:53.516  INFO 9680 --- [http-nio-8068-exec-4] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:40:53.516 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:40:53.516 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:40:53.516 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:40:53.516 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c6219c32: Principal: ru.logisticplatform.security.jwt.JwtUser@10792e71; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:40:53.516 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:40:53.516 DEBUG 9680 --- [http-nio-8068-exec-4] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2b18b308
2020-08-18 22:40:53.517 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:40:53.517 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:40:53.517 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/admin'; against '/api/v1/sign/**'
2020-08-18 22:40:53.517 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/admin'; against '/api/v1/admins/**'
2020-08-18 22:40:53.517 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/admin'; against '/api/v1/customers/**'
2020-08-18 22:40:53.517 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/admin; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:40:53.517 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c6219c32: Principal: ru.logisticplatform.security.jwt.JwtUser@10792e71; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:40:53.518 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@295d89c7, returned: 1
2020-08-18 22:40:53.518 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:40:53.518 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:40:53.518 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/admin reached end of additional filter chain; proceeding with original chain
2020-08-18 22:40:53.524  INFO 9680 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 2, name: ROLE_CONTRACTOR}, Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: admin
2020-08-18 22:40:53.525 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:40:53.525 DEBUG 9680 --- [http-nio-8068-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1be4d624
2020-08-18 22:40:53.525 DEBUG 9680 --- [http-nio-8068-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:41:00.044 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:41:00.044 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:41:00.044 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:41:00.044 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:41:00.044 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:41:00.044 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer3'; against '/logout'
2020-08-18 22:41:00.044 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:41:00.044 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer3' doesn't match 'POST /logout'
2020-08-18 22:41:00.045 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:41:00.045 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer3' doesn't match 'PUT /logout'
2020-08-18 22:41:00.045 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:41:00.045 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer3' doesn't match 'DELETE /logout'
2020-08-18 22:41:00.045 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:41:00.045 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:41:00.051  INFO 9680 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:41:00.051  INFO 9680 --- [http-nio-8068-exec-5] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:41:00.051 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:41:00.051 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:41:00.051 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:41:00.051 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d9630770: Principal: ru.logisticplatform.security.jwt.JwtUser@f3bb533; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:41:00.051 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:41:00.051 DEBUG 9680 --- [http-nio-8068-exec-5] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2b18b308
2020-08-18 22:41:00.052 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:41:00.052 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:41:00.052 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer3'; against '/api/v1/sign/**'
2020-08-18 22:41:00.052 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer3'; against '/api/v1/admins/**'
2020-08-18 22:41:00.052 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer3'; against '/api/v1/customers/**'
2020-08-18 22:41:00.052 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/customer3; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:41:00.052 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d9630770: Principal: ru.logisticplatform.security.jwt.JwtUser@f3bb533; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:41:00.052 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@295d89c7, returned: 1
2020-08-18 22:41:00.052 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:41:00.053 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:41:00.053 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:41:00.059  INFO 9680 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:41:00.060 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:41:00.061 DEBUG 9680 --- [http-nio-8068-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1be4d624
2020-08-18 22:41:00.061 DEBUG 9680 --- [http-nio-8068-exec-5] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:41:11.390 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:41:11.390 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:41:11.390 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:41:11.390 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:41:11.391 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:41:11.391 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:41:11.391 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:41:11.391 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:41:11.391 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:41:11.391 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:41:11.391 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:41:11.391 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:41:11.391 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:41:11.391 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:41:11.396  INFO 9680 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:41:11.397  INFO 9680 --- [http-nio-8068-exec-6] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:41:11.397 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:41:11.397 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:41:11.397 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:41:11.397 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b6e58edf: Principal: ru.logisticplatform.security.jwt.JwtUser@60bd3c9c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:41:11.397 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:41:11.397 DEBUG 9680 --- [http-nio-8068-exec-6] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2b18b308
2020-08-18 22:41:11.397 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:41:11.397 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:41:11.397 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:41:11.397 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:41:11.397 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:41:11.397 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:41:11.398 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b6e58edf: Principal: ru.logisticplatform.security.jwt.JwtUser@60bd3c9c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:41:11.398 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@295d89c7, returned: 1
2020-08-18 22:41:11.398 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:41:11.398 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:41:11.398 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:41:11.402  INFO 9680 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 22:41:11.403 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1be4d624
2020-08-18 22:41:11.404 DEBUG 9680 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:41:11.404 DEBUG 9680 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:41:49.555 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:41:49.555 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:41:49.556 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:41:49.556 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:41:49.556 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:41:49.556 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor1'; against '/logout'
2020-08-18 22:41:49.556 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:41:49.556 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor1' doesn't match 'POST /logout'
2020-08-18 22:41:49.556 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:41:49.557 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor1' doesn't match 'PUT /logout'
2020-08-18 22:41:49.557 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:41:49.557 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor1' doesn't match 'DELETE /logout'
2020-08-18 22:41:49.557 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:41:49.557 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:41:49.567  INFO 9680 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:41:49.567  INFO 9680 --- [http-nio-8068-exec-7] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:41:49.567 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:41:49.567 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:41:49.567 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:41:49.567 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@db3a6784: Principal: ru.logisticplatform.security.jwt.JwtUser@d62d5c7; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:41:49.567 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:41:49.568 DEBUG 9680 --- [http-nio-8068-exec-7] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2b18b308
2020-08-18 22:41:49.568 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:41:49.568 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:41:49.568 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor1'; against '/api/v1/sign/**'
2020-08-18 22:41:49.568 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor1'; against '/api/v1/admins/**'
2020-08-18 22:41:49.568 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor1'; against '/api/v1/customers/**'
2020-08-18 22:41:49.569 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor1; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:41:49.569 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@db3a6784: Principal: ru.logisticplatform.security.jwt.JwtUser@d62d5c7; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:41:49.569 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@295d89c7, returned: 1
2020-08-18 22:41:49.569 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:41:49.569 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:41:49.569 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:41:49.575  INFO 9680 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-18 22:41:49.577 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1be4d624
2020-08-18 22:41:49.578 DEBUG 9680 --- [http-nio-8068-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:41:49.578 DEBUG 9680 --- [http-nio-8068-exec-7] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:43:44.493  INFO 9680 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:43:44.496  INFO 9680 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-18 22:43:44.497  INFO 9680 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-18 22:43:44.505  INFO 9680 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-18 22:43:55.478  INFO 4260 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 4260 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-18 22:43:55.482  INFO 4260 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-18 22:43:56.645  INFO 4260 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-18 22:43:56.797  INFO 4260 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 140ms. Found 9 JPA repository interfaces.
2020-08-18 22:43:57.620  INFO 4260 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-18 22:43:57.631  INFO 4260 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-18 22:43:57.632  INFO 4260 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-18 22:43:57.830  INFO 4260 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-18 22:43:57.830  INFO 4260 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2282 ms
2020-08-18 22:43:58.035  INFO 4260 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-18 22:43:58.555  INFO 4260 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-18 22:44:00.359  INFO 4260 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 22:44:00.367  INFO 4260 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 22:44:00.370  INFO 4260 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-18 22:44:00.442  INFO 4260 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-18 22:44:03.161  INFO 4260 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-18 22:44:03.162  INFO 4260 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-18 22:44:03.164  INFO 4260 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-18 22:44:03.164  INFO 4260 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-18 22:44:03.300  INFO 4260 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-18 22:44:03.302  INFO 4260 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-18 22:44:03.319  INFO 4260 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-18 22:44:03.458  INFO 4260 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-18 22:44:03.469  INFO 4260 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-18 22:44:03.470  WARN 4260 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-18 22:44:03.490  INFO 4260 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-18 22:44:03.552  INFO 4260 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-18 22:44:03.613  WARN 4260 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-18 22:44:03.626  INFO 4260 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-18 22:44:03.856  INFO 4260 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-18 22:44:04.055  INFO 4260 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-18 22:44:04.301 DEBUG 4260 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@50841932}
2020-08-18 22:44:04.419 DEBUG 4260 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-18 22:44:04.422 DEBUG 4260 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-18 22:44:04.424 DEBUG 4260 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-18 22:44:04.424 DEBUG 4260 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-18 22:44:04.431 DEBUG 4260 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 22:44:04.628 DEBUG 4260 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 22:44:04.637  INFO 4260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@145ef9e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@2d399e88, org.springframework.security.web.header.HeaderWriterFilter@1f370472, org.springframework.security.web.authentication.logout.LogoutFilter@32153bbe, ru.logisticplatform.security.jwt.JwtTokenFilter@2e667e95, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4df5f119, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@200e6029, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@514b247b, org.springframework.security.web.session.SessionManagementFilter@f2b4303, org.springframework.security.web.access.ExceptionTranslationFilter@167f9043, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4587f0f9]
2020-08-18 22:44:04.705  INFO 4260 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-18 22:44:04.708  INFO 4260 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-18 22:44:05.450  INFO 4260 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-18 22:44:05.463  INFO 4260 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:44:06.094  INFO 4260 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-18 22:44:06.113  INFO 4260 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 11.485 seconds (JVM running for 12.514)
2020-08-18 22:45:03.287  INFO 4260 --- [http-nio-8068-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-18 22:45:03.287  INFO 4260 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-18 22:45:03.299  INFO 4260 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2020-08-18 22:45:03.314 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:45:03.315 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:45:03.318 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:45:03.320 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:45:03.320 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:45:03.320 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor1'; against '/logout'
2020-08-18 22:45:03.320 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:45:03.321 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor1' doesn't match 'POST /logout'
2020-08-18 22:45:03.321 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:45:03.321 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor1' doesn't match 'PUT /logout'
2020-08-18 22:45:03.321 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:45:03.321 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor1' doesn't match 'DELETE /logout'
2020-08-18 22:45:03.321 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:45:03.322 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:45:03.618  INFO 4260 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:45:03.620  INFO 4260 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:45:03.621 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:45:03.621 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:45:03.623 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:45:03.623 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@97c081c2: Principal: ru.logisticplatform.security.jwt.JwtUser@41983381; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:45:03.624 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:45:03.624 DEBUG 4260 --- [http-nio-8068-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@7dd2a5f7
2020-08-18 22:45:03.624 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:45:03.624 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:45:03.625 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor1'; against '/api/v1/sign/**'
2020-08-18 22:45:03.625 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor1'; against '/api/v1/admins/**'
2020-08-18 22:45:03.625 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor1'; against '/api/v1/customers/**'
2020-08-18 22:45:03.625 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor1; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:45:03.625 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@97c081c2: Principal: ru.logisticplatform.security.jwt.JwtUser@41983381; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:45:03.630 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@369fab9a, returned: 1
2020-08-18 22:45:03.630 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:45:03.630 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:45:03.630 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:45:03.665  INFO 4260 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-18 22:45:03.796 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@62e949ea
2020-08-18 22:45:03.804 DEBUG 4260 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:45:03.804 DEBUG 4260 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:45:26.857 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:45:26.858 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:45:26.858 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:45:26.858 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:45:26.858 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:45:26.858 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer3'; against '/logout'
2020-08-18 22:45:26.858 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:45:26.858 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer3' doesn't match 'POST /logout'
2020-08-18 22:45:26.858 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:45:26.858 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer3' doesn't match 'PUT /logout'
2020-08-18 22:45:26.858 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:45:26.858 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer3' doesn't match 'DELETE /logout'
2020-08-18 22:45:26.859 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:45:26.859 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:45:26.864  INFO 4260 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:45:26.865  INFO 4260 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:45:26.865 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:45:26.865 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:45:26.865 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:45:26.865 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e6f15126: Principal: ru.logisticplatform.security.jwt.JwtUser@30a9e365; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:45:26.865 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:45:26.865 DEBUG 4260 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@7dd2a5f7
2020-08-18 22:45:26.866 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:45:26.866 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:45:26.866 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer3'; against '/api/v1/sign/**'
2020-08-18 22:45:26.866 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer3'; against '/api/v1/admins/**'
2020-08-18 22:45:26.866 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer3'; against '/api/v1/customers/**'
2020-08-18 22:45:26.866 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/customer3; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:45:26.866 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e6f15126: Principal: ru.logisticplatform.security.jwt.JwtUser@30a9e365; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:45:26.867 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@369fab9a, returned: 1
2020-08-18 22:45:26.867 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:45:26.868 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:45:26.868 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer3 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:45:26.873  INFO 4260 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:45:26.875 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:45:26.875 DEBUG 4260 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@62e949ea
2020-08-18 22:45:26.875 DEBUG 4260 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:46:03.844 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:46:03.844 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:46:03.844 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:46:03.844 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:46:03.845 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:46:03.846 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:46:03.846 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:46:03.846 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:46:03.846 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:46:03.846 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:46:03.846 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:46:03.846 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:46:03.846 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:46:03.847 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:46:03.857  INFO 4260 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:46:03.858  INFO 4260 --- [http-nio-8068-exec-4] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:46:03.858 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:46:03.858 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:46:03.858 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:46:03.858 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@929f1863: Principal: ru.logisticplatform.security.jwt.JwtUser@44c7aa20; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:46:03.858 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:46:03.859 DEBUG 4260 --- [http-nio-8068-exec-4] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@7dd2a5f7
2020-08-18 22:46:03.859 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:46:03.859 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:46:03.859 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:46:03.859 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:46:03.859 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:46:03.859 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:46:03.859 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@929f1863: Principal: ru.logisticplatform.security.jwt.JwtUser@44c7aa20; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:46:03.860 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@369fab9a, returned: 1
2020-08-18 22:46:03.860 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:46:03.860 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:46:03.860 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:46:03.883 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@62e949ea
2020-08-18 22:46:03.883 DEBUG 4260 --- [http-nio-8068-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:46:03.897 ERROR 4260 --- [http-nio-8068-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant ru.logisticplatform.model.user.UserStatus.NON_ACTIVE; nested exception is java.lang.IllegalArgumentException: No enum constant ru.logisticplatform.model.user.UserStatus.NON_ACTIVE] with root cause

java.lang.IllegalArgumentException: No enum constant ru.logisticplatform.model.user.UserStatus.NON_ACTIVE
	at java.lang.Enum.valueOf(Enum.java:238) ~[na:1.8.0_111]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3087) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1851) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1779) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1752) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1600) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:743) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:1006) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:962) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:352) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2831) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2813) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2645) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2640) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1412) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1565) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1581) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:154) ~[spring-data-jpa-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:142) ~[spring-data-jpa-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor$QueryMethodInvoker.invoke(QueryExecutorMethodInterceptor.java:195) ~[spring-data-commons-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152) ~[spring-data-commons-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130) ~[spring-data-commons-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367) ~[spring-tx-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:149) ~[spring-data-jpa-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at com.sun.proxy.$Proxy128.findByUsername(Unknown Source) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at com.sun.proxy.$Proxy77.findByUsername(Unknown Source) ~[na:na]
	at ru.logisticplatform.service.user.impl.UserServiceImpl.findByUsername(UserServiceImpl.java:56) ~[classes/:na]
	at ru.logisticplatform.rest.user.customer.CustomerRestControllerV1.getUser(CustomerRestControllerV1.java:68) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-18 22:46:03.904 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:46:03.904 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:46:03.904 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:46:03.904 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:46:03.904 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:46:03.904 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-18 22:46:03.904 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:46:03.904 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout'
2020-08-18 22:46:03.904 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:46:03.904 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'PUT /logout'
2020-08-18 22:46:03.904 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:46:03.904 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'DELETE /logout'
2020-08-18 22:46:03.905 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:46:03.905 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:46:03.910  INFO 4260 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:46:03.910  INFO 4260 --- [http-nio-8068-exec-4] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:46:03.911 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:46:03.911 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:46:03.911 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:46:03.911 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c3805b23: Principal: ru.logisticplatform.security.jwt.JwtUser@15d8e960; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:46:03.911 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:46:03.911 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:46:03.911 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:46:03.911 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-18 22:46:03.936 DEBUG 4260 --- [http-nio-8068-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:46:03.936 DEBUG 4260 --- [http-nio-8068-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:46:15.934 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:46:15.934 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:46:15.934 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:46:15.934 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:46:15.934 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:46:15.934 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor1'; against '/logout'
2020-08-18 22:46:15.935 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:46:15.935 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor1' doesn't match 'POST /logout'
2020-08-18 22:46:15.935 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:46:15.935 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor1' doesn't match 'PUT /logout'
2020-08-18 22:46:15.935 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:46:15.935 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor1' doesn't match 'DELETE /logout'
2020-08-18 22:46:15.935 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:46:15.935 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:46:15.944  INFO 4260 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:46:15.944  INFO 4260 --- [http-nio-8068-exec-6] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:46:15.944 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:46:15.944 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:46:15.944 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:46:15.945 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@cf36ab2f: Principal: ru.logisticplatform.security.jwt.JwtUser@196e196c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:46:15.945 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:46:15.945 DEBUG 4260 --- [http-nio-8068-exec-6] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@7dd2a5f7
2020-08-18 22:46:15.945 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:46:15.945 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:46:15.945 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor1'; against '/api/v1/sign/**'
2020-08-18 22:46:15.945 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor1'; against '/api/v1/admins/**'
2020-08-18 22:46:15.945 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor1'; against '/api/v1/customers/**'
2020-08-18 22:46:15.945 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor1; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:46:15.945 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@cf36ab2f: Principal: ru.logisticplatform.security.jwt.JwtUser@196e196c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:46:15.946 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@369fab9a, returned: 1
2020-08-18 22:46:15.946 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:46:15.946 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:46:15.946 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor1 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:46:15.950  INFO 4260 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-18 22:46:15.951 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@62e949ea
2020-08-18 22:46:15.952 DEBUG 4260 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:46:15.953 DEBUG 4260 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:46:24.170 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:46:24.171 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:46:24.171 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:46:24.171 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:46:24.171 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:46:24.171 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:46:24.171 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:46:24.171 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:46:24.171 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:46:24.171 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:46:24.171 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:46:24.171 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:46:24.172 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:46:24.172 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:46:24.177  INFO 4260 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:46:24.178  INFO 4260 --- [http-nio-8068-exec-7] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:46:24.178 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:46:24.178 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:46:24.178 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:46:24.178 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@842e6a10: Principal: ru.logisticplatform.security.jwt.JwtUser@5276d853; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:46:24.178 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:46:24.178 DEBUG 4260 --- [http-nio-8068-exec-7] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@7dd2a5f7
2020-08-18 22:46:24.178 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:46:24.179 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:46:24.179 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:46:24.179 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:46:24.179 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:46:24.179 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:46:24.179 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@842e6a10: Principal: ru.logisticplatform.security.jwt.JwtUser@5276d853; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:46:24.179 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@369fab9a, returned: 1
2020-08-18 22:46:24.179 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:46:24.179 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:46:24.180 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:46:24.185 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@62e949ea
2020-08-18 22:46:24.185 DEBUG 4260 --- [http-nio-8068-exec-7] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:46:24.187 ERROR 4260 --- [http-nio-8068-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant ru.logisticplatform.model.user.UserStatus.NON_ACTIVE; nested exception is java.lang.IllegalArgumentException: No enum constant ru.logisticplatform.model.user.UserStatus.NON_ACTIVE] with root cause

java.lang.IllegalArgumentException: No enum constant ru.logisticplatform.model.user.UserStatus.NON_ACTIVE
	at java.lang.Enum.valueOf(Enum.java:238) ~[na:1.8.0_111]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3087) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1851) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1779) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1752) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1600) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:743) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:1006) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:962) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:352) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2831) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2813) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2645) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2640) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1412) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1565) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1581) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.4.17.Final.jar:5.4.17.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:154) ~[spring-data-jpa-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:142) ~[spring-data-jpa-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor$QueryMethodInvoker.invoke(QueryExecutorMethodInterceptor.java:195) ~[spring-data-commons-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152) ~[spring-data-commons-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130) ~[spring-data-commons-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367) ~[spring-tx-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:149) ~[spring-data-jpa-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at com.sun.proxy.$Proxy128.findByUsername(Unknown Source) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205) ~[spring-aop-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at com.sun.proxy.$Proxy77.findByUsername(Unknown Source) ~[na:na]
	at ru.logisticplatform.service.user.impl.UserServiceImpl.findByUsername(UserServiceImpl.java:56) ~[classes/:na]
	at ru.logisticplatform.rest.user.customer.CustomerRestControllerV1.getUser(CustomerRestControllerV1.java:68) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-18 22:46:24.190 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:46:24.190 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:46:24.190 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:46:24.191 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:46:24.191 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:46:24.191 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-18 22:46:24.191 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:46:24.191 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout'
2020-08-18 22:46:24.191 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:46:24.191 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'PUT /logout'
2020-08-18 22:46:24.191 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:46:24.191 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'DELETE /logout'
2020-08-18 22:46:24.191 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:46:24.191 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:46:24.199  INFO 4260 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:46:24.200  INFO 4260 --- [http-nio-8068-exec-7] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:46:24.200 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:46:24.200 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:46:24.200 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:46:24.200 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e6035e7a: Principal: ru.logisticplatform.security.jwt.JwtUser@305bec39; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:46:24.200 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:46:24.200 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:46:24.200 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:46:24.200 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-18 22:46:24.202 DEBUG 4260 --- [http-nio-8068-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:46:24.203 DEBUG 4260 --- [http-nio-8068-exec-7] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:47:10.936 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:47:10.937 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:47:10.937 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:47:10.937 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:47:10.937 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:47:10.937 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:47:10.937 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:47:10.937 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:47:10.937 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:47:10.937 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:47:10.938 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:47:10.938 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:47:10.938 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:47:10.938 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:47:10.944  INFO 4260 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:47:10.944  INFO 4260 --- [http-nio-8068-exec-9] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:47:10.944 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:47:10.944 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:47:10.944 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:47:10.944 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ba4dc26f: Principal: ru.logisticplatform.security.jwt.JwtUser@6c15702c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:47:10.944 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:47:10.944 DEBUG 4260 --- [http-nio-8068-exec-9] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@7dd2a5f7
2020-08-18 22:47:10.945 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:47:10.945 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:47:10.945 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:47:10.945 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:47:10.945 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:47:10.945 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:47:10.945 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ba4dc26f: Principal: ru.logisticplatform.security.jwt.JwtUser@6c15702c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:47:10.945 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@369fab9a, returned: 1
2020-08-18 22:47:10.945 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:47:10.945 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:47:10.945 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:47:10.950  INFO 4260 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=NOT_ACTIVE} found by userName: contractor2
2020-08-18 22:47:10.951 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:47:10.951 DEBUG 4260 --- [http-nio-8068-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@62e949ea
2020-08-18 22:47:10.951 DEBUG 4260 --- [http-nio-8068-exec-9] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:47:23.359 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 22:47:23.359 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 22:47:23.359 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 22:47:23.359 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 22:47:23.360 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 22:47:23.360 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/logout'
2020-08-18 22:47:23.360 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 22:47:23.360 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'POST /logout'
2020-08-18 22:47:23.360 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 22:47:23.360 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'PUT /logout'
2020-08-18 22:47:23.360 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 22:47:23.360 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/contractor2' doesn't match 'DELETE /logout'
2020-08-18 22:47:23.360 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 22:47:23.360 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 22:47:23.368  INFO 4260 --- [http-nio-8068-exec-10] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 22:47:23.368  INFO 4260 --- [http-nio-8068-exec-10] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 22:47:23.368 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 22:47:23.369 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 22:47:23.369 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 22:47:23.369 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ba6f3870: Principal: ru.logisticplatform.security.jwt.JwtUser@6c378a33; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 22:47:23.369 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 22:47:23.369 DEBUG 4260 --- [http-nio-8068-exec-10] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@7dd2a5f7
2020-08-18 22:47:23.369 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 22:47:23.369 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 22:47:23.369 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/sign/**'
2020-08-18 22:47:23.369 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/admins/**'
2020-08-18 22:47:23.369 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/contractor2'; against '/api/v1/customers/**'
2020-08-18 22:47:23.369 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/contractors/contractor2; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 22:47:23.370 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ba6f3870: Principal: ru.logisticplatform.security.jwt.JwtUser@6c378a33; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 22:47:23.370 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@369fab9a, returned: 1
2020-08-18 22:47:23.370 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 22:47:23.370 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 22:47:23.370 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 22:47:23.377  INFO 4260 --- [http-nio-8068-exec-10] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 22:47:23.379 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@62e949ea
2020-08-18 22:47:23.380 DEBUG 4260 --- [http-nio-8068-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 22:47:23.380 DEBUG 4260 --- [http-nio-8068-exec-10] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 22:52:59.595  INFO 4260 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 22:52:59.598  INFO 4260 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-18 22:52:59.598  INFO 4260 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-18 22:52:59.608  INFO 4260 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-18 23:00:45.048  INFO 16268 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 16268 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-18 23:00:45.052  INFO 16268 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-18 23:00:46.089  INFO 16268 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-18 23:00:46.251  INFO 16268 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 149ms. Found 9 JPA repository interfaces.
2020-08-18 23:00:46.968  INFO 16268 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-18 23:00:46.981  INFO 16268 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-18 23:00:46.982  INFO 16268 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-18 23:00:47.192  INFO 16268 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-18 23:00:47.192  INFO 16268 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2081 ms
2020-08-18 23:00:47.388  INFO 16268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-18 23:00:47.937  INFO 16268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-18 23:00:49.682  INFO 16268 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 23:00:49.689  INFO 16268 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-18 23:00:49.692  INFO 16268 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-18 23:00:49.775  INFO 16268 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-18 23:00:53.002  INFO 16268 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-18 23:00:53.004  INFO 16268 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-18 23:00:53.005  INFO 16268 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-18 23:00:53.005  INFO 16268 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-18 23:00:53.134  INFO 16268 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-18 23:00:53.135  INFO 16268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-18 23:00:53.152  INFO 16268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-18 23:00:53.272  INFO 16268 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-18 23:00:53.284  INFO 16268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-18 23:00:53.284  WARN 16268 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-18 23:00:53.303  INFO 16268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-18 23:00:53.419  INFO 16268 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-18 23:00:53.517  INFO 16268 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-18 23:00:53.519  WARN 16268 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-18 23:00:53.727  INFO 16268 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-18 23:00:53.896  INFO 16268 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-18 23:00:54.048 DEBUG 16268 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@2a525f88}
2020-08-18 23:00:54.157 DEBUG 16268 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-18 23:00:54.160 DEBUG 16268 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-18 23:00:54.162 DEBUG 16268 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-18 23:00:54.162 DEBUG 16268 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-18 23:00:54.170 DEBUG 16268 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 23:00:54.172 DEBUG 16268 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-18 23:00:54.176  INFO 16268 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@294a3f2a, org.springframework.security.web.context.SecurityContextPersistenceFilter@670aac24, org.springframework.security.web.header.HeaderWriterFilter@50aa9a91, org.springframework.security.web.authentication.logout.LogoutFilter@79982bcc, ru.logisticplatform.security.jwt.JwtTokenFilter@6e466fdf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1977b0df, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e34840f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@84e43fb, org.springframework.security.web.session.SessionManagementFilter@17344d7, org.springframework.security.web.access.ExceptionTranslationFilter@400d1c30, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6bec566e]
2020-08-18 23:00:54.483  INFO 16268 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-18 23:00:54.486  INFO 16268 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-18 23:00:55.170  INFO 16268 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-18 23:00:55.183  INFO 16268 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 23:00:55.743  INFO 16268 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-18 23:00:55.755  INFO 16268 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 11.572 seconds (JVM running for 12.731)
2020-08-18 23:02:17.743  INFO 16268 --- [http-nio-8068-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-18 23:02:17.744  INFO 16268 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-18 23:02:17.752  INFO 16268 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-08-18 23:02:17.767 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 23:02:17.768 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 23:02:17.771 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 23:02:17.773 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 23:02:17.773 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 23:02:17.773 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/logout'
2020-08-18 23:02:17.773 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 23:02:17.773 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'POST /logout'
2020-08-18 23:02:17.773 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 23:02:17.773 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'PUT /logout'
2020-08-18 23:02:17.774 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 23:02:17.774 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/me' doesn't match 'DELETE /logout'
2020-08-18 23:02:17.774 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 23:02:17.774 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 23:02:18.051  INFO 16268 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 23:02:18.053  INFO 16268 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 23:02:18.054 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 23:02:18.054 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 23:02:18.055 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 23:02:18.056 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e39fd34a: Principal: ru.logisticplatform.security.jwt.JwtUser@35c76109; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 23:02:18.056 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 23:02:18.056 DEBUG 16268 --- [http-nio-8068-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1bbfd42f
2020-08-18 23:02:18.056 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 23:02:18.056 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 23:02:18.057 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/sign/**'
2020-08-18 23:02:18.057 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/admins/**'
2020-08-18 23:02:18.057 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/customers/**'
2020-08-18 23:02:18.057 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/me; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-18 23:02:18.057 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e39fd34a: Principal: ru.logisticplatform.security.jwt.JwtUser@35c76109; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 23:02:18.062 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2192c58d, returned: 1
2020-08-18 23:02:18.062 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 23:02:18.062 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 23:02:18.062 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/customers/me reached end of additional filter chain; proceeding with original chain
2020-08-18 23:02:18.092  INFO 16268 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 23:02:18.225 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7ba53620
2020-08-18 23:02:18.233 DEBUG 16268 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 23:02:18.233 DEBUG 16268 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 23:02:26.967 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 23:02:26.968 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 23:02:26.968 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 23:02:26.968 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 23:02:26.968 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 23:02:26.968 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/contractors/customer2'; against '/logout'
2020-08-18 23:02:26.969 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 23:02:26.969 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer2' doesn't match 'POST /logout'
2020-08-18 23:02:26.969 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 23:02:26.969 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer2' doesn't match 'PUT /logout'
2020-08-18 23:02:26.969 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 23:02:26.969 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/customers/contractors/customer2' doesn't match 'DELETE /logout'
2020-08-18 23:02:26.969 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 23:02:26.969 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/customers/contractors/customer2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 23:02:26.973 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7ba53620
2020-08-18 23:02:26.973 DEBUG 16268 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 23:02:26.983 ERROR 16268 --- [http-nio-8068-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

ru.logisticplatform.security.jwt.JwtAuthenticationException: JWT token is expired or invalid
	at ru.logisticplatform.security.jwt.JwtTokenProvider.validateToken(JwtTokenProvider.java:99) ~[classes/:na]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:27) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-18 23:02:26.988 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 23:02:26.988 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 23:02:26.988 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 23:02:26.988 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 23:02:26.989 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 23:02:26.989 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-18 23:02:26.989 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 23:02:26.989 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout'
2020-08-18 23:02:26.989 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 23:02:26.989 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'PUT /logout'
2020-08-18 23:02:26.989 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 23:02:26.989 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'DELETE /logout'
2020-08-18 23:02:26.989 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 23:02:26.989 DEBUG 16268 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 23:02:26.990 DEBUG 16268 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 23:02:26.991 ERROR 16268 --- [http-nio-8068-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] threw exception

ru.logisticplatform.security.jwt.JwtAuthenticationException: JWT token is expired or invalid
	at ru.logisticplatform.security.jwt.JwtTokenProvider.validateToken(JwtTokenProvider.java:99) ~[classes/:na]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:27) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-18 23:02:26.992 ERROR 16268 --- [http-nio-8068-exec-3] o.a.c.c.C.[Tomcat].[localhost]           : Exception Processing ErrorPage[errorCode=0, location=/error]

ru.logisticplatform.security.jwt.JwtAuthenticationException: JWT token is expired or invalid
	at ru.logisticplatform.security.jwt.JwtTokenProvider.validateToken(JwtTokenProvider.java:99) ~[classes/:na]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:27) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-18 23:02:54.749 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 23:02:54.749 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 23:02:54.749 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 23:02:54.750 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 23:02:54.750 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 23:02:54.750 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/contractor2'; against '/logout'
2020-08-18 23:02:54.750 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 23:02:54.750 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/contractor2' doesn't match 'POST /logout'
2020-08-18 23:02:54.750 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 23:02:54.750 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/contractor2' doesn't match 'PUT /logout'
2020-08-18 23:02:54.750 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 23:02:54.750 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/contractor2' doesn't match 'DELETE /logout'
2020-08-18 23:02:54.750 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 23:02:54.750 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 23:02:54.757  INFO 16268 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 23:02:54.758  INFO 16268 --- [http-nio-8068-exec-5] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-18 23:02:54.758 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 23:02:54.758 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 23:02:54.758 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 23:02:54.758 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c13867d5: Principal: ru.logisticplatform.security.jwt.JwtUser@1760d596; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-18 23:02:54.758 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 23:02:54.758 DEBUG 16268 --- [http-nio-8068-exec-5] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1bbfd42f
2020-08-18 23:02:54.758 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 23:02:54.759 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 23:02:54.759 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/contractor2'; against '/api/v1/sign/**'
2020-08-18 23:02:54.759 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/contractor2'; against '/api/v1/admins/**'
2020-08-18 23:02:54.759 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/contractor2'; against '/api/v1/customers/**'
2020-08-18 23:02:54.759 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/contractor2; Attributes: [authenticated]
2020-08-18 23:02:54.759 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c13867d5: Principal: ru.logisticplatform.security.jwt.JwtUser@1760d596; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-18 23:02:54.765 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2192c58d, returned: 1
2020-08-18 23:02:54.765 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 23:02:54.765 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 23:02:54.765 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 23:02:54.779  INFO 16268 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 23:02:54.781 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 23:02:54.781 DEBUG 16268 --- [http-nio-8068-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7ba53620
2020-08-18 23:02:54.781 DEBUG 16268 --- [http-nio-8068-exec-5] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 23:03:20.478 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 23:03:20.478 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 23:03:20.478 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 23:03:20.478 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 23:03:20.478 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 23:03:20.479 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-18 23:03:20.479 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 23:03:20.479 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-18 23:03:20.479 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 23:03:20.479 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-18 23:03:20.479 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 23:03:20.479 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-18 23:03:20.479 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 23:03:20.479 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 23:03:20.479 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 23:03:20.480 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 23:03:20.480 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 23:03:20.481 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@b0f7be5f: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-18 23:03:20.482 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 23:03:20.482 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 23:03:20.482 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 23:03:20.482 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-18 23:03:20.482 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-18 23:03:20.483 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@b0f7be5f: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-18 23:03:20.484 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2192c58d, returned: 1
2020-08-18 23:03:20.484 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 23:03:20.485 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 23:03:20.485 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-18 23:03:20.519 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-18 23:03:20.655  INFO 16268 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 23:03:20.655  INFO 16268 --- [http-nio-8068-exec-6] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-18 23:03:20.798  INFO 16268 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 23:03:20.826 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7ba53620
2020-08-18 23:03:20.828 DEBUG 16268 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 23:03:20.828 DEBUG 16268 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 23:04:01.978 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 23:04:01.978 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 23:04:01.979 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 23:04:01.979 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 23:04:01.979 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 23:04:01.979 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/logout'
2020-08-18 23:04:01.979 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 23:04:01.979 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'POST /logout'
2020-08-18 23:04:01.979 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 23:04:01.979 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'PUT /logout'
2020-08-18 23:04:01.979 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 23:04:01.980 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'DELETE /logout'
2020-08-18 23:04:01.980 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 23:04:01.980 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 23:04:01.986  INFO 16268 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 23:04:01.986  INFO 16268 --- [http-nio-8068-exec-7] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-18 23:04:01.986 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 23:04:01.986 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 23:04:01.986 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 23:04:01.986 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@2fdc53ca: Principal: ru.logisticplatform.security.jwt.JwtUser@305d89d0; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-18 23:04:01.986 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 23:04:01.986 DEBUG 16268 --- [http-nio-8068-exec-7] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1bbfd42f
2020-08-18 23:04:01.987 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 23:04:01.987 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 23:04:01.987 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/sign/**'
2020-08-18 23:04:01.987 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/admins/**'
2020-08-18 23:04:01.987 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/customers/**'
2020-08-18 23:04:01.987 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/me; Attributes: [authenticated]
2020-08-18 23:04:01.987 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@2fdc53ca: Principal: ru.logisticplatform.security.jwt.JwtUser@305d89d0; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-18 23:04:01.987 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2192c58d, returned: 1
2020-08-18 23:04:01.987 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 23:04:01.987 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 23:04:01.987 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me reached end of additional filter chain; proceeding with original chain
2020-08-18 23:04:01.992  INFO 16268 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 23:04:01.993 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7ba53620
2020-08-18 23:04:01.995 DEBUG 16268 --- [http-nio-8068-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 23:04:01.995 DEBUG 16268 --- [http-nio-8068-exec-7] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 23:04:34.635 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 23:04:34.635 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 23:04:34.636 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 23:04:34.636 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 23:04:34.636 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 23:04:34.636 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/contractor2'; against '/logout'
2020-08-18 23:04:34.636 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 23:04:34.636 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/contractor2' doesn't match 'POST /logout'
2020-08-18 23:04:34.636 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 23:04:34.636 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/contractor2' doesn't match 'PUT /logout'
2020-08-18 23:04:34.636 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 23:04:34.636 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/contractor2' doesn't match 'DELETE /logout'
2020-08-18 23:04:34.637 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 23:04:34.637 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 23:04:34.643  INFO 16268 --- [http-nio-8068-exec-8] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 23:04:34.644  INFO 16268 --- [http-nio-8068-exec-8] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-18 23:04:34.644 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 23:04:34.644 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 23:04:34.644 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 23:04:34.644 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@6d8d0a58: Principal: ru.logisticplatform.security.jwt.JwtUser@720cd042; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-18 23:04:34.644 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 23:04:34.644 DEBUG 16268 --- [http-nio-8068-exec-8] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1bbfd42f
2020-08-18 23:04:34.644 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 23:04:34.644 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 23:04:34.645 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/contractor2'; against '/api/v1/sign/**'
2020-08-18 23:04:34.645 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/contractor2'; against '/api/v1/admins/**'
2020-08-18 23:04:34.645 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/contractor2'; against '/api/v1/customers/**'
2020-08-18 23:04:34.645 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/contractor2; Attributes: [authenticated]
2020-08-18 23:04:34.645 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@6d8d0a58: Principal: ru.logisticplatform.security.jwt.JwtUser@720cd042; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-18 23:04:34.645 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2192c58d, returned: 1
2020-08-18 23:04:34.645 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 23:04:34.646 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 23:04:34.646 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 23:04:34.650  INFO 16268 --- [http-nio-8068-exec-8] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 23:04:34.651 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 23:04:34.651 DEBUG 16268 --- [http-nio-8068-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7ba53620
2020-08-18 23:04:34.651 DEBUG 16268 --- [http-nio-8068-exec-8] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 23:04:50.646 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 23:04:50.647 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 23:04:50.647 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 23:04:50.647 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 23:04:50.647 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 23:04:50.647 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/logout'
2020-08-18 23:04:50.647 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 23:04:50.647 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'POST /logout'
2020-08-18 23:04:50.647 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 23:04:50.647 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'PUT /logout'
2020-08-18 23:04:50.647 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 23:04:50.647 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'DELETE /logout'
2020-08-18 23:04:50.647 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 23:04:50.647 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 23:04:50.653  INFO 16268 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 23:04:50.653  INFO 16268 --- [http-nio-8068-exec-9] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-18 23:04:50.653 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 23:04:50.653 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 23:04:50.653 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 23:04:50.653 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7ddcc35a: Principal: ru.logisticplatform.security.jwt.JwtUser@625d1940; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-18 23:04:50.653 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 23:04:50.653 DEBUG 16268 --- [http-nio-8068-exec-9] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1bbfd42f
2020-08-18 23:04:50.654 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 23:04:50.654 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 23:04:50.654 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/sign/**'
2020-08-18 23:04:50.654 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/admins/**'
2020-08-18 23:04:50.654 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/customers/**'
2020-08-18 23:04:50.654 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/customer3; Attributes: [authenticated]
2020-08-18 23:04:50.654 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7ddcc35a: Principal: ru.logisticplatform.security.jwt.JwtUser@625d1940; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-18 23:04:50.654 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2192c58d, returned: 1
2020-08-18 23:04:50.654 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 23:04:50.654 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 23:04:50.654 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 reached end of additional filter chain; proceeding with original chain
2020-08-18 23:04:50.659  INFO 16268 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-18 23:04:50.661 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7ba53620
2020-08-18 23:04:50.662 DEBUG 16268 --- [http-nio-8068-exec-9] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 23:04:50.663 DEBUG 16268 --- [http-nio-8068-exec-9] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 23:05:03.397 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-18 23:05:03.398 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-18 23:05:03.398 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-18 23:05:03.398 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-18 23:05:03.398 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-18 23:05:03.398 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/contractor2'; against '/logout'
2020-08-18 23:05:03.398 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-18 23:05:03.398 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/contractor2' doesn't match 'POST /logout'
2020-08-18 23:05:03.398 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-18 23:05:03.398 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/contractor2' doesn't match 'PUT /logout'
2020-08-18 23:05:03.398 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-18 23:05:03.398 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/contractor2' doesn't match 'DELETE /logout'
2020-08-18 23:05:03.398 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-18 23:05:03.399 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-18 23:05:03.404  INFO 16268 --- [http-nio-8068-exec-10] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 23:05:03.404  INFO 16268 --- [http-nio-8068-exec-10] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-18 23:05:03.405 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-18 23:05:03.405 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-18 23:05:03.405 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-18 23:05:03.405 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@44eb2170: Principal: ru.logisticplatform.security.jwt.JwtUser@5b6afb6a; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-18 23:05:03.405 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-18 23:05:03.405 DEBUG 16268 --- [http-nio-8068-exec-10] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1bbfd42f
2020-08-18 23:05:03.405 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-18 23:05:03.405 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-18 23:05:03.405 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/contractor2'; against '/api/v1/sign/**'
2020-08-18 23:05:03.405 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/contractor2'; against '/api/v1/admins/**'
2020-08-18 23:05:03.405 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/contractor2'; against '/api/v1/customers/**'
2020-08-18 23:05:03.405 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/contractor2; Attributes: [authenticated]
2020-08-18 23:05:03.405 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@44eb2170: Principal: ru.logisticplatform.security.jwt.JwtUser@5b6afb6a; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-18 23:05:03.406 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2192c58d, returned: 1
2020-08-18 23:05:03.406 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-18 23:05:03.406 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-18 23:05:03.406 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/contractor2 reached end of additional filter chain; proceeding with original chain
2020-08-18 23:05:03.410  INFO 16268 --- [http-nio-8068-exec-10] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-18 23:05:03.411 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-18 23:05:03.411 DEBUG 16268 --- [http-nio-8068-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7ba53620
2020-08-18 23:05:03.411 DEBUG 16268 --- [http-nio-8068-exec-10] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-18 23:07:21.596  INFO 16268 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-18 23:07:21.599  INFO 16268 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-18 23:07:21.599  INFO 16268 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-18 23:07:21.607  INFO 16268 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
